{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.maybeBuild=maybeBuild;var _index=require(\"./logger/index.js\");var mockTargetValues={targetOriginX:0,targetOriginY:0,targetWidth:0,targetHeight:0,targetGlobalOriginX:0,targetGlobalOriginY:0,targetBorderRadius:0,windowWidth:0,windowHeight:0,currentOriginX:0,currentOriginY:0,currentWidth:0,currentHeight:0,currentGlobalOriginX:0,currentGlobalOriginY:0,currentBorderRadius:0};function getCommonProperties(layoutStyle,componentStyle){var componentStyleFlat=Array.isArray(componentStyle)?componentStyle.flat():[componentStyle];componentStyleFlat=componentStyleFlat.filter(Boolean);componentStyleFlat=componentStyleFlat.map(function(style){return'initial'in style?style.initial.value:style;});var componentStylesKeys=componentStyleFlat.flatMap(function(style){return Object.keys(style);});var commonKeys=Object.keys(layoutStyle).filter(function(key){return componentStylesKeys.includes(key);});return commonKeys;}function maybeReportOverwrittenProperties(layoutAnimationStyle,style,displayName){var commonProperties=getCommonProperties(layoutAnimationStyle,style);if(commonProperties.length>0){_index.logger.warn(`${commonProperties.length===1?'Property':'Properties'} \"${commonProperties.join(', ')}\" of ${displayName} may be overwritten by a layout animation. Please wrap your component with an animated view and apply the layout animation on the wrapper.`);}}function maybeBuild(layoutAnimationOrBuilder,style,displayName){var isAnimationBuilder=function isAnimationBuilder(value){return'build'in layoutAnimationOrBuilder&&typeof layoutAnimationOrBuilder.build==='function';};if(isAnimationBuilder(layoutAnimationOrBuilder)){var animationFactory=layoutAnimationOrBuilder.build();if(__DEV__&&style){var layoutAnimation=animationFactory(mockTargetValues);maybeReportOverwrittenProperties(layoutAnimation.animations,style,displayName);}return animationFactory;}else{return layoutAnimationOrBuilder;}}","map":{"version":3,"names":["Object","defineProperty","exports","value","maybeBuild","_index","require","mockTargetValues","targetOriginX","targetOriginY","targetWidth","targetHeight","targetGlobalOriginX","targetGlobalOriginY","targetBorderRadius","windowWidth","windowHeight","currentOriginX","currentOriginY","currentWidth","currentHeight","currentGlobalOriginX","currentGlobalOriginY","currentBorderRadius","getCommonProperties","layoutStyle","componentStyle","componentStyleFlat","Array","isArray","flat","filter","Boolean","map","style","initial","componentStylesKeys","flatMap","keys","commonKeys","key","includes","maybeReportOverwrittenProperties","layoutAnimationStyle","displayName","commonProperties","length","logger","warn","join","layoutAnimationOrBuilder","isAnimationBuilder","build","animationFactory","__DEV__","layoutAnimation","animations"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/animationBuilder.tsx"],"sourcesContent":["'use strict';\nimport type {\n  ILayoutAnimationBuilder,\n  LayoutAnimationFunction,\n  LayoutAnimationsValues,\n} from './layoutReanimation';\nimport type { StyleProps } from './commonTypes';\nimport type { NestedArray } from './createAnimatedComponent/commonTypes';\nimport { logger } from './logger';\n\nconst mockTargetValues: LayoutAnimationsValues = {\n  targetOriginX: 0,\n  targetOriginY: 0,\n  targetWidth: 0,\n  targetHeight: 0,\n  targetGlobalOriginX: 0,\n  targetGlobalOriginY: 0,\n  targetBorderRadius: 0,\n  windowWidth: 0,\n  windowHeight: 0,\n  currentOriginX: 0,\n  currentOriginY: 0,\n  currentWidth: 0,\n  currentHeight: 0,\n  currentGlobalOriginX: 0,\n  currentGlobalOriginY: 0,\n  currentBorderRadius: 0,\n};\n\nfunction getCommonProperties(\n  layoutStyle: StyleProps,\n  componentStyle: NestedArray<StyleProps>\n) {\n  let componentStyleFlat = Array.isArray(componentStyle)\n    ? componentStyle.flat()\n    : [componentStyle];\n\n  componentStyleFlat = componentStyleFlat.filter(Boolean);\n\n  componentStyleFlat = componentStyleFlat.map((style) =>\n    'initial' in style\n      ? style.initial.value // Include properties of animated style\n      : style\n  );\n\n  const componentStylesKeys = componentStyleFlat.flatMap((style) =>\n    Object.keys(style)\n  );\n\n  const commonKeys = Object.keys(layoutStyle).filter((key) =>\n    componentStylesKeys.includes(key)\n  );\n\n  return commonKeys;\n}\n\nfunction maybeReportOverwrittenProperties(\n  layoutAnimationStyle: StyleProps,\n  style: NestedArray<StyleProps>,\n  displayName: string\n) {\n  const commonProperties = getCommonProperties(layoutAnimationStyle, style);\n\n  if (commonProperties.length > 0) {\n    logger.warn(\n      `${\n        commonProperties.length === 1 ? 'Property' : 'Properties'\n      } \"${commonProperties.join(\n        ', '\n      )}\" of ${displayName} may be overwritten by a layout animation. Please wrap your component with an animated view and apply the layout animation on the wrapper.`\n    );\n  }\n}\n\nexport function maybeBuild(\n  layoutAnimationOrBuilder:\n    | ILayoutAnimationBuilder\n    | LayoutAnimationFunction\n    | Keyframe,\n  style: NestedArray<StyleProps> | undefined,\n  displayName: string\n): LayoutAnimationFunction | Keyframe {\n  const isAnimationBuilder = (\n    value: ILayoutAnimationBuilder | LayoutAnimationFunction | Keyframe\n  ): value is ILayoutAnimationBuilder =>\n    'build' in layoutAnimationOrBuilder &&\n    typeof layoutAnimationOrBuilder.build === 'function';\n\n  if (isAnimationBuilder(layoutAnimationOrBuilder)) {\n    const animationFactory = layoutAnimationOrBuilder.build();\n\n    if (__DEV__ && style) {\n      const layoutAnimation = animationFactory(mockTargetValues);\n      maybeReportOverwrittenProperties(\n        layoutAnimation.animations,\n        style,\n        displayName\n      );\n    }\n\n    return animationFactory;\n  } else {\n    return layoutAnimationOrBuilder;\n  }\n}\n"],"mappings":"AAAA,YAAY,CAAAA,MAAA,CAAAC,cAAA,CAAAC,OAAA,eAAAC,KAAA,QAAAD,OAAA,CAAAE,UAAA,CAAAA,UAAA,CAQZ,IAAAC,MAAA,CAAAC,OAAA,sBAEA,GAAM,CAAAC,gBAAwC,CAAG,CAC/CC,aAAa,CAAE,CAAC,CAChBC,aAAa,CAAE,CAAC,CAChBC,WAAW,CAAE,CAAC,CACdC,YAAY,CAAE,CAAC,CACfC,mBAAmB,CAAE,CAAC,CACtBC,mBAAmB,CAAE,CAAC,CACtBC,kBAAkB,CAAE,CAAC,CACrBC,WAAW,CAAE,CAAC,CACdC,YAAY,CAAE,CAAC,CACfC,cAAc,CAAE,CAAC,CACjBC,cAAc,CAAE,CAAC,CACjBC,YAAY,CAAE,CAAC,CACfC,aAAa,CAAE,CAAC,CAChBC,oBAAoB,CAAE,CAAC,CACvBC,oBAAoB,CAAE,CAAC,CACvBC,mBAAmB,CAAE,CACvB,CAAC,CAED,QAAS,CAAAC,mBAAmBA,CAC1BC,WAAuB,CACvBC,cAAuC,CACvC,CACA,GAAI,CAAAC,kBAAkB,CAAGC,KAAK,CAACC,OAAO,CAACH,cAAc,CAAC,CAClDA,cAAc,CAACI,IAAI,CAAC,CAAC,CACrB,CAACJ,cAAc,CAAC,CAEpBC,kBAAkB,CAAGA,kBAAkB,CAACI,MAAM,CAACC,OAAO,CAAC,CAEvDL,kBAAkB,CAAGA,kBAAkB,CAACM,GAAG,CAAE,SAAAC,KAAK,QAChD,SAAS,EAAI,CAAAA,KAAK,CACdA,KAAK,CAACC,OAAO,CAAChC,KAAK,CACnB+B,KACN,GAAC,CAED,GAAM,CAAAE,mBAAmB,CAAGT,kBAAkB,CAACU,OAAO,CAAE,SAAAH,KAAK,QAC3D,CAAAlC,MAAM,CAACsC,IAAI,CAACJ,KAAK,CACnB,GAAC,CAED,GAAM,CAAAK,UAAU,CAAGvC,MAAM,CAACsC,IAAI,CAACb,WAAW,CAAC,CAACM,MAAM,CAAE,SAAAS,GAAG,QACrD,CAAAJ,mBAAmB,CAACK,QAAQ,CAACD,GAAG,CAClC,GAAC,CAED,MAAO,CAAAD,UAAU,CACnB,CAEA,QAAS,CAAAG,gCAAgCA,CACvCC,oBAAgC,CAChCT,KAA8B,CAC9BU,WAAmB,CACnB,CACA,GAAM,CAAAC,gBAAgB,CAAGrB,mBAAmB,CAACmB,oBAAoB,CAAET,KAAK,CAAC,CAEzE,GAAIW,gBAAgB,CAACC,MAAM,CAAG,CAAC,CAAE,CAC/BC,aAAM,CAACC,IAAI,CACT,GACEH,gBAAgB,CAACC,MAAM,GAAK,CAAC,CAAG,UAAU,CAAG,YAAY,KACtDD,gBAAgB,CAACI,IAAI,CACxB,IACF,CAAC,QAAQL,WAAW,4IACtB,CAAC,CACH,CACF,CAEO,QAAS,CAAAxC,UAAUA,CACxB8C,wBAGY,CACZhB,KAA0C,CAC1CU,WAAmB,CACiB,CACpC,GAAM,CAAAO,kBAAkB,CACtB,QADI,CAAAA,kBAAkBA,CACtBhD,KAAmE,QAEnE,OAAO,EAAI,CAAA+C,wBAAwB,EACnC,MAAO,CAAAA,wBAAwB,CAACE,KAAK,GAAK,UAAU,GAEtD,GAAID,kBAAkB,CAACD,wBAAwB,CAAC,CAAE,CAChD,GAAM,CAAAG,gBAAgB,CAAGH,wBAAwB,CAACE,KAAK,CAAC,CAAC,CAEzD,GAAIE,OAAO,EAAIpB,KAAK,CAAE,CACpB,GAAM,CAAAqB,eAAe,CAAGF,gBAAgB,CAAC9C,gBAAgB,CAAC,CAC1DmC,gCAAgC,CAC9Ba,eAAe,CAACC,UAAU,CAC1BtB,KAAK,CACLU,WACF,CAAC,CACH,CAEA,MAAO,CAAAS,gBAAgB,CACzB,CAAC,IAAM,CACL,MAAO,CAAAH,wBAAwB,CACjC,CACF","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}