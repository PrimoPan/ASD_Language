{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.CurvedTransition=CurvedTransition;exports.prepareCurvedTransition=prepareCurvedTransition;var _index=require(\"../../index.js\");var _EasingWeb=require(\"../Easing.web.js\");function resetStyle(component){component.style.animationName='';component.style.position='absolute';component.style.top='0px';component.style.left='0px';component.style.margin='0px';component.style.width='100%';component.style.height='100%';}function showChildren(parent,childrenDisplayProperty,shouldShow){for(var i=0;i<parent.children.length;++i){var child=parent.children[i];if(shouldShow){child.style.display=childrenDisplayProperty.get(child);}else{childrenDisplayProperty.set(child,child.style.display);child.style.display='none';}}}function prepareParent(element,dummy,animationConfig,transitionData){animationConfig.easing=(0,_EasingWeb.getEasingByName)(transitionData.easingX);var childrenDisplayProperty=new Map();showChildren(element,childrenDisplayProperty,false);var originalBackgroundColor=element.style.backgroundColor;element.style.backgroundColor='transparent';var onFinalize=function onFinalize(){if(element.contains(dummy)){element.removeChild(dummy);}showChildren(element,childrenDisplayProperty,true);element.style.backgroundColor=originalBackgroundColor;};var _animationCancelCallback=function animationCancelCallback(){onFinalize();element.removeEventListener('animationcancel',_animationCancelCallback);};var _animationEndCallback=function animationEndCallback(){onFinalize();element.removeEventListener('animationend',_animationEndCallback);};element.addEventListener('animationend',_animationEndCallback);element.addEventListener('animationcancel',_animationCancelCallback);element.appendChild(dummy);}function prepareDummy(element,animationConfig,transitionData,dummyTransitionKeyframeName){var dummyAnimationConfig={animationName:dummyTransitionKeyframeName,animationType:_index.LayoutAnimationType.LAYOUT,duration:animationConfig.duration,delay:animationConfig.delay,easing:(0,_EasingWeb.getEasingByName)(transitionData.easingY),callback:null,reversed:false};var dummy=element.cloneNode(true);resetStyle(dummy);return{dummy:dummy,dummyAnimationConfig:dummyAnimationConfig};}function prepareCurvedTransition(element,animationConfig,transitionData,dummyTransitionKeyframeName){var _prepareDummy=prepareDummy(element,animationConfig,transitionData,dummyTransitionKeyframeName),dummy=_prepareDummy.dummy,dummyAnimationConfig=_prepareDummy.dummyAnimationConfig;prepareParent(element,dummy,animationConfig,transitionData);return{dummy:dummy,dummyAnimationConfig:dummyAnimationConfig};}function CurvedTransition(keyframeXName,keyframeYName,transitionData){var keyframeXObj={name:keyframeXName,style:{0:{transform:[{translateX:`${transitionData.translateX}px`,scale:`${transitionData.scaleX},${transitionData.scaleY}`}]}},duration:300};var keyframeYObj={name:keyframeYName,style:{0:{transform:[{translateY:`${transitionData.translateY}px`,scale:`${transitionData.scaleX},${transitionData.scaleY}`}]}},duration:300};return{firstKeyframeObj:keyframeXObj,secondKeyframeObj:keyframeYObj};}","map":{"version":3,"names":["Object","defineProperty","exports","value","CurvedTransition","prepareCurvedTransition","_index","require","_EasingWeb","resetStyle","component","style","animationName","position","top","left","margin","width","height","showChildren","parent","childrenDisplayProperty","shouldShow","i","children","length","child","display","get","set","prepareParent","element","dummy","animationConfig","transitionData","easing","getEasingByName","easingX","Map","originalBackgroundColor","backgroundColor","onFinalize","contains","removeChild","animationCancelCallback","removeEventListener","animationEndCallback","addEventListener","appendChild","prepareDummy","dummyTransitionKeyframeName","dummyAnimationConfig","animationType","LayoutAnimationType","LAYOUT","duration","delay","easingY","callback","reversed","cloneNode","_prepareDummy","keyframeXName","keyframeYName","keyframeXObj","name","transform","translateX","scale","scaleX","scaleY","keyframeYObj","translateY","firstKeyframeObj","secondKeyframeObj"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/layoutReanimation/web/transition/Curved.web.ts"],"sourcesContent":["'use strict';\nimport type { ReanimatedHTMLElement } from '../../../js-reanimated';\nimport { LayoutAnimationType } from '../..';\nimport type { WebEasingsNames } from '../Easing.web';\nimport { getEasingByName } from '../Easing.web';\nimport type { TransitionData } from '../animationParser';\nimport type { AnimationConfig } from '../config';\n\nfunction resetStyle(component: HTMLElement) {\n  component.style.animationName = ''; // This line prevents unwanted entering animation\n  component.style.position = 'absolute';\n  component.style.top = '0px';\n  component.style.left = '0px';\n  component.style.margin = '0px';\n  component.style.width = '100%';\n  component.style.height = '100%';\n}\n\nfunction showChildren(\n  parent: HTMLElement,\n  childrenDisplayProperty: Map<HTMLElement, string>,\n  shouldShow: boolean\n) {\n  for (let i = 0; i < parent.children.length; ++i) {\n    const child = parent.children[i] as HTMLElement;\n\n    if (shouldShow) {\n      child.style.display = childrenDisplayProperty.get(child)!;\n    } else {\n      childrenDisplayProperty.set(child, child.style.display);\n      child.style.display = 'none';\n    }\n  }\n}\n\nfunction prepareParent(\n  element: ReanimatedHTMLElement,\n  dummy: ReanimatedHTMLElement,\n  animationConfig: AnimationConfig,\n  transitionData: TransitionData\n) {\n  // Adjust configs for `CurvedTransition` and create config object for dummy\n  animationConfig.easing = getEasingByName(\n    transitionData.easingX as WebEasingsNames\n  );\n\n  const childrenDisplayProperty = new Map<HTMLElement, string>();\n  showChildren(element, childrenDisplayProperty, false);\n\n  const originalBackgroundColor = element.style.backgroundColor;\n  element.style.backgroundColor = 'transparent';\n\n  const onFinalize = () => {\n    if (element.contains(dummy)) {\n      element.removeChild(dummy);\n    }\n\n    showChildren(element, childrenDisplayProperty, true);\n\n    element.style.backgroundColor = originalBackgroundColor;\n  };\n\n  const animationCancelCallback = () => {\n    onFinalize();\n    element.removeEventListener('animationcancel', animationCancelCallback);\n  };\n\n  const animationEndCallback = () => {\n    onFinalize();\n    element.removeEventListener('animationend', animationEndCallback);\n  };\n\n  element.addEventListener('animationend', animationEndCallback);\n  element.addEventListener('animationcancel', animationCancelCallback);\n\n  element.appendChild(dummy);\n}\n\nfunction prepareDummy(\n  element: ReanimatedHTMLElement,\n  animationConfig: AnimationConfig,\n  transitionData: TransitionData,\n  dummyTransitionKeyframeName: string\n) {\n  const dummyAnimationConfig: AnimationConfig = {\n    animationName: dummyTransitionKeyframeName,\n    animationType: LayoutAnimationType.LAYOUT,\n    duration: animationConfig.duration,\n    delay: animationConfig.delay,\n    easing: getEasingByName(transitionData.easingY as WebEasingsNames),\n    callback: null,\n    reversed: false,\n  };\n\n  const dummy = element.cloneNode(true) as ReanimatedHTMLElement;\n  resetStyle(dummy);\n\n  return { dummy, dummyAnimationConfig };\n}\n\nexport function prepareCurvedTransition(\n  element: ReanimatedHTMLElement,\n  animationConfig: AnimationConfig,\n  transitionData: TransitionData,\n  dummyTransitionKeyframeName: string\n) {\n  const { dummy, dummyAnimationConfig } = prepareDummy(\n    element,\n    animationConfig,\n    transitionData,\n    dummyTransitionKeyframeName\n  );\n\n  prepareParent(element, dummy, animationConfig, transitionData);\n\n  return { dummy, dummyAnimationConfig };\n}\n\nexport function CurvedTransition(\n  keyframeXName: string,\n  keyframeYName: string,\n  transitionData: TransitionData\n) {\n  const keyframeXObj = {\n    name: keyframeXName,\n    style: {\n      0: {\n        transform: [\n          {\n            translateX: `${transitionData.translateX}px`,\n            scale: `${transitionData.scaleX},${transitionData.scaleY}`,\n          },\n        ],\n      },\n    },\n    duration: 300,\n  };\n\n  const keyframeYObj = {\n    name: keyframeYName,\n    style: {\n      0: {\n        transform: [\n          {\n            translateY: `${transitionData.translateY}px`,\n            scale: `${transitionData.scaleX},${transitionData.scaleY}`,\n          },\n        ],\n      },\n    },\n    duration: 300,\n  };\n\n  return {\n    firstKeyframeObj: keyframeXObj,\n    secondKeyframeObj: keyframeYObj,\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}