{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));var _zustand=require(\"zustand\");var useStore=(0,_zustand.create)(function(set,get){return{username:'',setUsername:function setUsername(payload){return set({username:payload});},setUsernameAsync:function(){var _setUsernameAsync=(0,_asyncToGenerator2.default)(function*(payload){yield new Promise(function(resolve){return setTimeout(resolve,1000);});set({username:payload});});function setUsernameAsync(_x){return _setUsernameAsync.apply(this,arguments);}return setUsernameAsync;}(),currentChildren:{},setCurrentChildren:function setCurrentChildren(data){var _ref,_data$selectedInitial,_get$learningGoals;var oldData=get().currentChildren;if(JSON.stringify(oldData)===JSON.stringify(data))return;set({currentChildren:Object.assign({},data,{selectedInitials:(_ref=(_data$selectedInitial=data.selectedInitials)!=null?_data$selectedInitial:(_get$learningGoals=get().learningGoals)==null||(_get$learningGoals=_get$learningGoals.构音)==null?void 0:_get$learningGoals.split(', '))!=null?_ref:[]})});},learningGoals:null,setLearningGoals:function setLearningGoals(data){var _ref2,_data$构音,_get$currentChildren;var oldData=get().learningGoals;if(JSON.stringify(oldData)===JSON.stringify(data))return;set({learningGoals:Object.assign({},data,{构音:(_ref2=(_data$构音=data.构音)!=null?_data$构音:(_get$currentChildren=get().currentChildren)==null||(_get$currentChildren=_get$currentChildren.selectedInitials)==null?void 0:_get$currentChildren.join(', '))!=null?_ref2:'无'})});}};});var _default=exports.default=useStore;","map":{"version":3,"names":["_zustand","require","useStore","create","set","get","username","setUsername","payload","setUsernameAsync","_setUsernameAsync","_asyncToGenerator2","default","Promise","resolve","setTimeout","_x","apply","arguments","currentChildren","setCurrentChildren","data","_ref","_data$selectedInitial","_get$learningGoals","oldData","JSON","stringify","Object","assign","selectedInitials","learningGoals","构音","split","setLearningGoals","_ref2","_data$构音","_get$currentChildren","join","_default","exports"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/SourceCode/store/store.jsx"],"sourcesContent":["import { create } from 'zustand';\n\nconst useStore = create((set, get) => ({\n    // ============== 原有 username 相关 ==============\n    username: '',\n    setUsername: (payload) => set({ username: payload }),\n    setUsernameAsync: async (payload) => {\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        set({ username: payload });\n    },\n\n    // ============== currentChildren 相关 ==============\n    currentChildren: {},\n    setCurrentChildren: (data) => {\n        const oldData = get().currentChildren;\n        if (JSON.stringify(oldData) === JSON.stringify(data)) return;\n        set({\n            currentChildren: {\n                ...data,\n                selectedInitials: data.selectedInitials ?? get().learningGoals?.构音?.split(', ') ?? [],\n            },\n        });\n    },\n\n    // ============== learningGoals 相关 ==============\n    /*\n        历史遗留问题，教学目标中的构音需要和currentChildren里的selectedInitials相统一\n     */\n    learningGoals: null,\n    setLearningGoals: (data) => {\n        const oldData = get().learningGoals;\n        if (JSON.stringify(oldData) === JSON.stringify(data)) return;\n        set({\n            learningGoals: {\n                ...data,\n                构音: data.构音 ?? get().currentChildren?.selectedInitials?.join(', ') ?? '无',\n            },\n        });\n    },\n}));\n\nexport default useStore;\n"],"mappings":"qQAAA,IAAAA,QAAA,CAAAC,OAAA,YAEA,GAAM,CAAAC,QAAQ,CAAG,GAAAC,eAAM,EAAC,SAACC,GAAG,CAAEC,GAAG,QAAM,CAEnCC,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,QAAb,CAAAA,WAAWA,CAAGC,OAAO,QAAK,CAAAJ,GAAG,CAAC,CAAEE,QAAQ,CAAEE,OAAQ,CAAC,CAAC,GACpDC,gBAAgB,gBAAAC,iBAAA,IAAAC,kBAAA,CAAAC,OAAA,EAAE,UAAOJ,OAAO,CAAK,CACjC,KAAM,IAAI,CAAAK,OAAO,CAAC,SAACC,OAAO,QAAK,CAAAC,UAAU,CAACD,OAAO,CAAE,IAAI,CAAC,GAAC,CACzDV,GAAG,CAAC,CAAEE,QAAQ,CAAEE,OAAQ,CAAC,CAAC,CAC9B,CAAC,UAHD,CAAAC,gBAAgBA,CAAAO,EAAA,SAAAN,iBAAA,CAAAO,KAAA,MAAAC,SAAA,SAAhB,CAAAT,gBAAgB,IAGf,CAGDU,eAAe,CAAE,CAAC,CAAC,CACnBC,kBAAkB,CAAE,QAApB,CAAAA,kBAAkBA,CAAGC,IAAI,CAAK,KAAAC,IAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAC1B,GAAM,CAAAC,OAAO,CAAGpB,GAAG,CAAC,CAAC,CAACc,eAAe,CACrC,GAAIO,IAAI,CAACC,SAAS,CAACF,OAAO,CAAC,GAAKC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAE,OACtDjB,GAAG,CAAC,CACAe,eAAe,CAAAS,MAAA,CAAAC,MAAA,IACRR,IAAI,EACPS,gBAAgB,EAAAR,IAAA,EAAAC,qBAAA,CAAEF,IAAI,CAACS,gBAAgB,QAAAP,qBAAA,EAAAC,kBAAA,CAAInB,GAAG,CAAC,CAAC,CAAC0B,aAAa,UAAAP,kBAAA,CAAnBA,kBAAA,CAAqBQ,EAAE,eAAvBR,kBAAA,CAAyBS,KAAK,CAAC,IAAI,CAAC,QAAAX,IAAA,CAAI,EAAE,EAE7F,CAAC,CAAC,CACN,CAAC,CAMDS,aAAa,CAAE,IAAI,CACnBG,gBAAgB,CAAE,QAAlB,CAAAA,gBAAgBA,CAAGb,IAAI,CAAK,KAAAc,KAAA,CAAAC,QAAA,CAAAC,oBAAA,CACxB,GAAM,CAAAZ,OAAO,CAAGpB,GAAG,CAAC,CAAC,CAAC0B,aAAa,CACnC,GAAIL,IAAI,CAACC,SAAS,CAACF,OAAO,CAAC,GAAKC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,CAAE,OACtDjB,GAAG,CAAC,CACA2B,aAAa,CAAAH,MAAA,CAAAC,MAAA,IACNR,IAAI,EACPW,EAAE,EAAAG,KAAA,EAAAC,QAAA,CAAEf,IAAI,CAACW,EAAE,QAAAI,QAAA,EAAAC,oBAAA,CAAIhC,GAAG,CAAC,CAAC,CAACc,eAAe,UAAAkB,oBAAA,CAArBA,oBAAA,CAAuBP,gBAAgB,eAAvCO,oBAAA,CAAyCC,IAAI,CAAC,IAAI,CAAC,QAAAH,KAAA,CAAI,GAAG,EAEjF,CAAC,CAAC,CACN,CACJ,CAAC,EAAC,CAAC,CAAC,IAAAI,QAAA,CAAAC,OAAA,CAAA5B,OAAA,CAEWV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}