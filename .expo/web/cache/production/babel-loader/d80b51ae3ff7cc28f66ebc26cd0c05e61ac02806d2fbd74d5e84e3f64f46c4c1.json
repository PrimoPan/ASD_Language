{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.Keyframe=void 0;var _defineProperty2=_interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _Easing=require(\"../../Easing.js\");var _index=require(\"../../animation/index.js\");var _commonTypes=require(\"../../commonTypes.js\");var _util=require(\"../../animation/util.js\");var _errors=require(\"../../errors.js\");var InnerKeyframe=function(){function InnerKeyframe(definitions){var _this=this;(0,_classCallCheck2.default)(this,InnerKeyframe);this.reduceMotionV=_commonTypes.ReduceMotion.System;this.build=function(){var delay=_this.delayV;var delayFunction=_this.getDelayFunction();var _this$parseDefinition=_this.parseDefinitions(),keyframes=_this$parseDefinition.keyframes,initialValues=_this$parseDefinition.initialValues;var callback=_this.callbackV;return function(){'worklet';var animations={};var addAnimation=function addAnimation(key){var keyframePoints=keyframes[key];if(keyframePoints.length===0){return;}var animation=delayFunction(delay,keyframePoints.length===1?(0,_index.withTiming)(keyframePoints[0].value,{duration:keyframePoints[0].duration,easing:keyframePoints[0].easing?keyframePoints[0].easing:_Easing.Easing.linear}):_index.withSequence.apply(void 0,(0,_toConsumableArray2.default)(keyframePoints.map(function(keyframePoint){return(0,_index.withTiming)(keyframePoint.value,{duration:keyframePoint.duration,easing:keyframePoint.easing?keyframePoint.easing:_Easing.Easing.linear});}))));if(key.includes('transform')){if(!('transform'in animations)){animations.transform=[];}animations.transform.push((0,_defineProperty2.default)({},key.split(':')[1],animation));}else{animations[key]=animation;}};Object.keys(initialValues).forEach(function(key){if(key.includes('transform')){initialValues[key].forEach(function(transformProp,index){Object.keys(transformProp).forEach(function(transformPropKey){addAnimation(makeKeyframeKey(index,transformPropKey));});});}else{addAnimation(key);}});return{animations:animations,initialValues:initialValues,callback:callback};};};this.definitions=definitions;}return(0,_createClass2.default)(InnerKeyframe,[{key:\"parseDefinitions\",value:function parseDefinitions(){var _this2=this;var parsedKeyframes={};if(this.definitions.from){if(this.definitions['0']){throw new _errors.ReanimatedError(\"You cannot provide both keyframe 0 and 'from' as they both specified initial values.\");}this.definitions['0']=this.definitions.from;delete this.definitions.from;}if(this.definitions.to){if(this.definitions['100']){throw new _errors.ReanimatedError(\"You cannot provide both keyframe 100 and 'to' as they both specified values at the end of the animation.\");}this.definitions['100']=this.definitions.to;delete this.definitions.to;}if(!this.definitions['0']){throw new _errors.ReanimatedError(\"Please provide 0 or 'from' keyframe with initial state of your object.\");}var initialValues=this.definitions['0'];Object.keys(initialValues).forEach(function(styleProp){if(styleProp==='transform'){if(!Array.isArray(initialValues.transform)){return;}initialValues.transform.forEach(function(transformStyle,index){Object.keys(transformStyle).forEach(function(transformProp){parsedKeyframes[makeKeyframeKey(index,transformProp)]=[];});});}else{parsedKeyframes[styleProp]=[];}});var duration=this.durationV?this.durationV:500;var animationKeyPoints=Array.from(Object.keys(this.definitions)).map(Number);var getAnimationDuration=function getAnimationDuration(key,currentKeyPoint){var maxDuration=currentKeyPoint/100*duration;var currentDuration=parsedKeyframes[key].reduce(function(acc,value){return acc+value.duration;},0);return maxDuration-currentDuration;};var addKeyPoint=function addKeyPoint(_ref){var key=_ref.key,value=_ref.value,currentKeyPoint=_ref.currentKeyPoint,easing=_ref.easing;if(!(key in parsedKeyframes)){throw new _errors.ReanimatedError(\"Keyframe can contain only that set of properties that were provide with initial values (keyframe 0 or 'from')\");}if(__DEV__&&easing){(0,_util.assertEasingIsWorklet)(easing);}parsedKeyframes[key].push({duration:getAnimationDuration(key,currentKeyPoint),value:value,easing:easing});};animationKeyPoints.filter(function(value){return value!==0;}).sort(function(a,b){return a-b;}).forEach(function(keyPoint){if(keyPoint<0||keyPoint>100){throw new _errors.ReanimatedError('Keyframe should be in between range 0 - 100.');}var keyframe=_this2.definitions[keyPoint];var easing=keyframe.easing;delete keyframe.easing;var addKeyPointWith=function addKeyPointWith(key,value){return addKeyPoint({key:key,value:value,currentKeyPoint:keyPoint,easing:easing});};Object.keys(keyframe).forEach(function(key){if(key==='transform'){if(!Array.isArray(keyframe.transform)){return;}keyframe.transform.forEach(function(transformStyle,index){Object.keys(transformStyle).forEach(function(transformProp){addKeyPointWith(makeKeyframeKey(index,transformProp),transformStyle[transformProp]);});});}else{addKeyPointWith(key,keyframe[key]);}});});return{initialValues:initialValues,keyframes:parsedKeyframes};}},{key:\"duration\",value:function duration(durationMs){this.durationV=durationMs;return this;}},{key:\"delay\",value:function delay(delayMs){this.delayV=delayMs;return this;}},{key:\"withCallback\",value:function withCallback(callback){this.callbackV=callback;return this;}},{key:\"reduceMotion\",value:function reduceMotion(reduceMotionV){this.reduceMotionV=reduceMotionV;return this;}},{key:\"getDelayFunction\",value:function getDelayFunction(){var delay=this.delayV;var reduceMotion=this.reduceMotionV;return delay?function(delay,animation){'worklet';return(0,_index.withDelay)(delay,animation,reduceMotion);}:function(_,animation){'worklet';animation.reduceMotion=(0,_util.getReduceMotionFromConfig)(reduceMotion);return animation;};}}]);}();function makeKeyframeKey(index,transformProp){'worklet';return`${index}_transform:${transformProp}`;}var Keyframe=exports.Keyframe=InnerKeyframe;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","Keyframe","_defineProperty2","_toConsumableArray2","_classCallCheck2","_createClass2","_Easing","_index","_commonTypes","_util","_errors","InnerKeyframe","definitions","_this","default","reduceMotionV","ReduceMotion","System","build","delay","delayV","delayFunction","getDelayFunction","_this$parseDefinition","parseDefinitions","keyframes","initialValues","callback","callbackV","animations","addAnimation","key","keyframePoints","length","animation","withTiming","duration","easing","Easing","linear","withSequence","apply","map","keyframePoint","includes","transform","push","split","keys","forEach","transformProp","index","transformPropKey","makeKeyframeKey","_this2","parsedKeyframes","from","ReanimatedError","to","styleProp","Array","isArray","transformStyle","durationV","animationKeyPoints","Number","getAnimationDuration","currentKeyPoint","maxDuration","currentDuration","reduce","acc","addKeyPoint","_ref","__DEV__","assertEasingIsWorklet","filter","sort","a","b","keyPoint","keyframe","addKeyPointWith","durationMs","delayMs","withCallback","reduceMotion","withDelay","_","getReduceMotionFromConfig"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/layoutReanimation/animationBuilder/Keyframe.ts"],"sourcesContent":["'use strict';\nimport { Easing } from '../../Easing';\nimport { withDelay, withSequence, withTiming } from '../../animation';\nimport type {\n  AnimationFunction,\n  EntryExitAnimationFunction,\n  IEntryExitAnimationBuilder,\n  KeyframeProps,\n  MaybeInvalidKeyframeProps,\n  StylePropsWithArrayTransform,\n  ValidKeyframeProps,\n} from './commonTypes';\nimport type {\n  StyleProps,\n  EasingFunction,\n  TransformArrayItem,\n} from '../../commonTypes';\nimport { ReduceMotion } from '../../commonTypes';\nimport {\n  assertEasingIsWorklet,\n  getReduceMotionFromConfig,\n} from '../../animation/util';\nimport { ReanimatedError } from '../../errors';\n\ninterface KeyframePoint {\n  duration: number;\n  value: number | string;\n  easing?: EasingFunction;\n}\ninterface ParsedKeyframesDefinition {\n  initialValues: StyleProps;\n  keyframes: Record<string, KeyframePoint[]>;\n}\n\nclass InnerKeyframe implements IEntryExitAnimationBuilder {\n  durationV?: number;\n  delayV?: number;\n  reduceMotionV: ReduceMotion = ReduceMotion.System;\n  callbackV?: (finished: boolean) => void;\n  definitions: MaybeInvalidKeyframeProps;\n\n  /*\n    Keyframe definition should be passed in the constructor as the map\n    which keys are between range 0 - 100 (%) and correspond to the point in the animation progress.\n  */\n  constructor(definitions: ValidKeyframeProps) {\n    this.definitions = definitions as MaybeInvalidKeyframeProps;\n  }\n\n  private parseDefinitions(): ParsedKeyframesDefinition {\n    /* \n        Each style property contain an array with all their key points: \n        value, duration of transition to that value, and optional easing function (defaults to Linear)\n    */\n    const parsedKeyframes: Record<string, KeyframePoint[]> = {};\n    /*\n      Parsing keyframes 'from' and 'to'.\n    */\n    if (this.definitions.from) {\n      if (this.definitions['0']) {\n        throw new ReanimatedError(\n          \"You cannot provide both keyframe 0 and 'from' as they both specified initial values.\"\n        );\n      }\n      this.definitions['0'] = this.definitions.from;\n      delete this.definitions.from;\n    }\n    if (this.definitions.to) {\n      if (this.definitions['100']) {\n        throw new ReanimatedError(\n          \"You cannot provide both keyframe 100 and 'to' as they both specified values at the end of the animation.\"\n        );\n      }\n      this.definitions['100'] = this.definitions.to;\n      delete this.definitions.to;\n    }\n    /* \n      One of the assumptions is that keyframe  0 is required to properly set initial values.\n      Every other keyframe should contain properties from the set provided as initial values.\n    */\n    if (!this.definitions['0']) {\n      throw new ReanimatedError(\n        \"Please provide 0 or 'from' keyframe with initial state of your object.\"\n      );\n    }\n    const initialValues: StyleProps = this.definitions['0'] as StyleProps;\n    /*\n      Initialize parsedKeyframes for properties provided in initial keyframe\n    */\n    Object.keys(initialValues).forEach((styleProp: string) => {\n      if (styleProp === 'transform') {\n        if (!Array.isArray(initialValues.transform)) {\n          return;\n        }\n        initialValues.transform.forEach((transformStyle, index) => {\n          Object.keys(transformStyle).forEach((transformProp: string) => {\n            parsedKeyframes[makeKeyframeKey(index, transformProp)] = [];\n          });\n        });\n      } else {\n        parsedKeyframes[styleProp] = [];\n      }\n    });\n\n    const duration: number = this.durationV ? this.durationV : 500;\n    const animationKeyPoints: Array<number> = Array.from(\n      Object.keys(this.definitions)\n    ).map(Number);\n\n    const getAnimationDuration = (\n      key: string,\n      currentKeyPoint: number\n    ): number => {\n      const maxDuration = (currentKeyPoint / 100) * duration;\n      const currentDuration = parsedKeyframes[key].reduce(\n        (acc: number, value: KeyframePoint) => acc + value.duration,\n        0\n      );\n      return maxDuration - currentDuration;\n    };\n\n    /* \n       Other keyframes can't contain properties that were not specified in initial keyframe.\n    */\n    const addKeyPoint = ({\n      key,\n      value,\n      currentKeyPoint,\n      easing,\n    }: {\n      key: string;\n      value: string | number;\n      currentKeyPoint: number;\n      easing?: EasingFunction;\n    }): void => {\n      if (!(key in parsedKeyframes)) {\n        throw new ReanimatedError(\n          \"Keyframe can contain only that set of properties that were provide with initial values (keyframe 0 or 'from')\"\n        );\n      }\n\n      if (__DEV__ && easing) {\n        assertEasingIsWorklet(easing);\n      }\n\n      parsedKeyframes[key].push({\n        duration: getAnimationDuration(key, currentKeyPoint),\n        value,\n        easing,\n      });\n    };\n    animationKeyPoints\n      .filter((value: number) => value !== 0)\n      .sort((a: number, b: number) => a - b)\n      .forEach((keyPoint: number) => {\n        if (keyPoint < 0 || keyPoint > 100) {\n          throw new ReanimatedError(\n            'Keyframe should be in between range 0 - 100.'\n          );\n        }\n        const keyframe: KeyframeProps = this.definitions[keyPoint];\n        const easing = keyframe.easing;\n        delete keyframe.easing;\n        const addKeyPointWith = (key: string, value: string | number) =>\n          addKeyPoint({\n            key,\n            value,\n            currentKeyPoint: keyPoint,\n            easing,\n          });\n        Object.keys(keyframe).forEach((key: string) => {\n          if (key === 'transform') {\n            if (!Array.isArray(keyframe.transform)) {\n              return;\n            }\n            keyframe.transform.forEach((transformStyle, index) => {\n              Object.keys(transformStyle).forEach((transformProp: string) => {\n                addKeyPointWith(\n                  makeKeyframeKey(index, transformProp),\n                  transformStyle[\n                    transformProp as keyof typeof transformStyle\n                  ] as number | string // Here we assume that user has passed props of proper type.\n                  // I don't think it's worthwhile to check if he passed i.e. `Animated.Node`.\n                );\n              });\n            });\n          } else {\n            addKeyPointWith(key, keyframe[key]);\n          }\n        });\n      });\n    return { initialValues, keyframes: parsedKeyframes };\n  }\n\n  duration(durationMs: number): InnerKeyframe {\n    this.durationV = durationMs;\n    return this;\n  }\n\n  delay(delayMs: number): InnerKeyframe {\n    this.delayV = delayMs;\n    return this;\n  }\n\n  withCallback(callback: (finsihed: boolean) => void): InnerKeyframe {\n    this.callbackV = callback;\n    return this;\n  }\n\n  reduceMotion(reduceMotionV: ReduceMotion): this {\n    this.reduceMotionV = reduceMotionV;\n    return this;\n  }\n\n  private getDelayFunction(): AnimationFunction {\n    const delay = this.delayV;\n    const reduceMotion = this.reduceMotionV;\n    return delay\n      ? // eslint-disable-next-line @typescript-eslint/no-shadow\n        (delay, animation) => {\n          'worklet';\n          return withDelay(delay, animation, reduceMotion);\n        }\n      : (_, animation) => {\n          'worklet';\n          animation.reduceMotion = getReduceMotionFromConfig(reduceMotion);\n          return animation;\n        };\n  }\n\n  build = (): EntryExitAnimationFunction => {\n    const delay = this.delayV;\n    const delayFunction = this.getDelayFunction();\n    const { keyframes, initialValues } = this.parseDefinitions();\n    const callback = this.callbackV;\n\n    return () => {\n      'worklet';\n      const animations: StylePropsWithArrayTransform = {};\n\n      /* \n            For each style property, an animations sequence is created that corresponds with its key points.\n            Transform style properties require special handling because of their nested structure.\n      */\n      const addAnimation = (key: string) => {\n        const keyframePoints = keyframes[key];\n        // in case if property was only passed as initial value\n        if (keyframePoints.length === 0) {\n          return;\n        }\n        const animation = delayFunction(\n          delay,\n          keyframePoints.length === 1\n            ? withTiming(keyframePoints[0].value, {\n                duration: keyframePoints[0].duration,\n                easing: keyframePoints[0].easing\n                  ? keyframePoints[0].easing\n                  : Easing.linear,\n              })\n            : withSequence(\n                ...keyframePoints.map((keyframePoint: KeyframePoint) =>\n                  withTiming(keyframePoint.value, {\n                    duration: keyframePoint.duration,\n                    easing: keyframePoint.easing\n                      ? keyframePoint.easing\n                      : Easing.linear,\n                  })\n                )\n              )\n        );\n        if (key.includes('transform')) {\n          if (!('transform' in animations)) {\n            animations.transform = [];\n          }\n          animations.transform!.push(<TransformArrayItem>{\n            [key.split(':')[1]]: animation,\n          });\n        } else {\n          animations[key] = animation;\n        }\n      };\n      Object.keys(initialValues).forEach((key: string) => {\n        if (key.includes('transform')) {\n          initialValues[key].forEach(\n            (transformProp: Record<string, number | string>, index: number) => {\n              Object.keys(transformProp).forEach((transformPropKey: string) => {\n                addAnimation(makeKeyframeKey(index, transformPropKey));\n              });\n            }\n          );\n        } else {\n          addAnimation(key);\n        }\n      });\n      return {\n        animations,\n        initialValues,\n        callback,\n      };\n    };\n  };\n}\n\nfunction makeKeyframeKey(index: number, transformProp: string) {\n  'worklet';\n  return `${index}_transform:${transformProp}`;\n}\n\nexport declare class ReanimatedKeyframe {\n  constructor(definitions: ValidKeyframeProps);\n  duration(durationMs: number): ReanimatedKeyframe;\n  delay(delayMs: number): ReanimatedKeyframe;\n  reduceMotion(reduceMotionV: ReduceMotion): ReanimatedKeyframe;\n  withCallback(callback: (finished: boolean) => void): ReanimatedKeyframe;\n}\n\nexport const Keyframe = InnerKeyframe as typeof ReanimatedKeyframe;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}