{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.getProcessedConfig=getProcessedConfig;exports.getReducedMotionFromConfig=getReducedMotionFromConfig;exports.handleExitingAnimation=handleExitingAnimation;exports.handleLayoutTransition=handleLayoutTransition;exports.maybeModifyStyleForKeyframe=maybeModifyStyleForKeyframe;exports.saveSnapshot=saveSnapshot;exports.setElementAnimation=setElementAnimation;var _config=require(\"./config.js\");var _EasingWeb=require(\"./Easing.web.js\");var _createAnimation=require(\"./createAnimation.js\");var _domUtils=require(\"./domUtils.js\");var _index=require(\"../../js-reanimated/index.js\");var _commonTypes=require(\"../../commonTypes.js\");var _commonTypes2=require(\"../animationBuilder/commonTypes.js\");var _componentStyle=require(\"./componentStyle.js\");var _index2=require(\"../animationBuilder/index.js\");var _ReducedMotion=require(\"../../ReducedMotion.js\");var _CurvedWeb=require(\"./transition/Curved.web.js\");var _Easing=require(\"../../Easing.js\");var _index3=require(\"../../logger/index.js\");function getEasingFromConfig(config){if(!config.easingV){return(0,_EasingWeb.getEasingByName)('linear');}var easingName=config.easingV[_Easing.EasingNameSymbol];if(!(easingName in _EasingWeb.WebEasings)){_index3.logger.warn(`Selected easing is not currently supported on web.`);return(0,_EasingWeb.getEasingByName)('linear');}return(0,_EasingWeb.getEasingByName)(easingName);}function getRandomDelay(){var maxDelay=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1000;return Math.floor(Math.random()*(maxDelay+1))/1000;}function getDelayFromConfig(config){var shouldRandomizeDelay=config.randomizeDelay;var delay=shouldRandomizeDelay?getRandomDelay():0;if(!config.delayV){return delay;}return shouldRandomizeDelay?getRandomDelay(config.delayV):config.delayV/1000;}function getReducedMotionFromConfig(config){if(!config.reduceMotionV){return _ReducedMotion.ReducedMotionManager.jsValue;}switch(config.reduceMotionV){case _commonTypes.ReduceMotion.Never:return false;case _commonTypes.ReduceMotion.Always:return true;default:return _ReducedMotion.ReducedMotionManager.jsValue;}}function getDurationFromConfig(config,animationName){var defaultDuration=animationName in _config.Animations?_config.Animations[animationName].duration:0.3;return config.durationV!==undefined?config.durationV/1000:defaultDuration;}function getCallbackFromConfig(config){return config.callbackV!==undefined?config.callbackV:null;}function getReversedFromConfig(config){return!!config.reversed;}function getProcessedConfig(animationName,animationType,config){return{animationName:animationName,animationType:animationType,duration:getDurationFromConfig(config,animationName),delay:getDelayFromConfig(config),easing:getEasingFromConfig(config),callback:getCallbackFromConfig(config),reversed:getReversedFromConfig(config)};}function maybeModifyStyleForKeyframe(element,config){if(!(config instanceof _index2.Keyframe)){return;}element.style.animationFillMode='forwards';for(var timestampRules of Object.values(config.definitions)){if('originX'in timestampRules||'originY'in timestampRules){element.style.position='absolute';return;}}}function saveSnapshot(element){var rect=element.getBoundingClientRect();var snapshot={top:rect.top,left:rect.left,width:rect.width,height:rect.height,scrollOffsets:getElementScrollValue(element)};_componentStyle.snapshots.set(element,snapshot);}function setElementAnimation(element,animationConfig){var shouldSavePosition=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var parent=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var animationName=animationConfig.animationName,duration=animationConfig.duration,delay=animationConfig.delay,easing=animationConfig.easing;var configureAnimation=function configureAnimation(){element.style.animationName=animationName;element.style.animationDuration=`${duration}s`;element.style.animationDelay=`${delay}s`;element.style.animationTimingFunction=easing;};if(animationConfig.animationType===_commonTypes2.LayoutAnimationType.ENTERING){requestAnimationFrame(configureAnimation);}else{configureAnimation();}element.onanimationend=function(){if(shouldSavePosition){saveSnapshot(element);}if(parent!=null&&parent.contains(element)){element.removedAfterAnimation=true;parent.removeChild(element);}animationConfig.callback==null||animationConfig.callback(true);element.removeEventListener('animationcancel',_animationCancelHandler);};var _animationCancelHandler=function animationCancelHandler(){animationConfig.callback==null||animationConfig.callback(false);if(parent!=null&&parent.contains(element)){element.removedAfterAnimation=true;parent.removeChild(element);}element.removeEventListener('animationcancel',_animationCancelHandler);};element.onanimationstart=function(){if(animationConfig.animationType===_commonTypes2.LayoutAnimationType.ENTERING){(0,_index._updatePropsJS)({visibility:'initial'},element);}element.addEventListener('animationcancel',_animationCancelHandler);};if(!(animationName in _config.Animations)){(0,_domUtils.scheduleAnimationCleanup)(animationName,duration+delay,function(){if(shouldSavePosition){(0,_componentStyle.setElementPosition)(element,_componentStyle.snapshots.get(element));}});}}function handleLayoutTransition(element,animationConfig,transitionData){var animationName=animationConfig.animationName;var animationType;switch(animationName){case'LinearTransition':animationType=_config.TransitionType.LINEAR;break;case'SequencedTransition':animationType=_config.TransitionType.SEQUENCED;break;case'FadingTransition':animationType=_config.TransitionType.FADING;break;case'JumpingTransition':animationType=_config.TransitionType.JUMPING;break;case'CurvedTransition':animationType=_config.TransitionType.CURVED;break;case'EntryExitTransition':animationType=_config.TransitionType.ENTRY_EXIT;break;default:animationType=_config.TransitionType.LINEAR;break;}var _TransitionGenerator=(0,_createAnimation.TransitionGenerator)(animationType,transitionData),transitionKeyframeName=_TransitionGenerator.transitionKeyframeName,dummyTransitionKeyframeName=_TransitionGenerator.dummyTransitionKeyframeName;animationConfig.animationName=transitionKeyframeName;if(animationType===_config.TransitionType.CURVED){var _prepareCurvedTransit=(0,_CurvedWeb.prepareCurvedTransition)(element,animationConfig,transitionData,dummyTransitionKeyframeName),dummy=_prepareCurvedTransit.dummy,dummyAnimationConfig=_prepareCurvedTransit.dummyAnimationConfig;setElementAnimation(dummy,dummyAnimationConfig);}setElementAnimation(element,animationConfig);}function getElementScrollValue(element){var current=element;var scrollOffsets={scrollTopOffset:0,scrollLeftOffset:0};while(current){if(current.scrollTop!==0&&scrollOffsets.scrollTopOffset===0){scrollOffsets.scrollTopOffset=current.scrollTop;}if(current.scrollLeft!==0&&scrollOffsets.scrollLeftOffset===0){scrollOffsets.scrollLeftOffset=current.scrollLeft;}current=current.parentElement;}return scrollOffsets;}function handleExitingAnimation(element,animationConfig){var parent=element.offsetParent;var dummy=element.cloneNode();dummy.reanimatedDummy=true;element.style.animationName='';dummy.style.animationName='';while(element.firstChild){dummy.appendChild(element.firstChild);}parent==null||parent.appendChild(dummy);var snapshot=_componentStyle.snapshots.get(element);var scrollOffsets=getElementScrollValue(element);var currentScrollTopOffset=scrollOffsets.scrollTopOffset;var lastScrollTopOffset=snapshot.scrollOffsets.scrollTopOffset;if(currentScrollTopOffset!==lastScrollTopOffset){snapshot.top+=lastScrollTopOffset-currentScrollTopOffset;}var currentScrollLeftOffset=scrollOffsets.scrollLeftOffset;var lastScrollLeftOffset=snapshot.scrollOffsets.scrollLeftOffset;if(currentScrollLeftOffset!==lastScrollLeftOffset){snapshot.left+=lastScrollLeftOffset-currentScrollLeftOffset;}_componentStyle.snapshots.set(dummy,snapshot);(0,_componentStyle.setElementPosition)(dummy,snapshot);setElementAnimation(dummy,animationConfig,false,parent);}","map":{"version":3,"names":["Object","defineProperty","exports","value","getProcessedConfig","getReducedMotionFromConfig","handleExitingAnimation","handleLayoutTransition","maybeModifyStyleForKeyframe","saveSnapshot","setElementAnimation","_config","require","_EasingWeb","_createAnimation","_domUtils","_index","_commonTypes","_commonTypes2","_componentStyle","_index2","_ReducedMotion","_CurvedWeb","_Easing","_index3","getEasingFromConfig","config","easingV","getEasingByName","easingName","EasingNameSymbol","WebEasings","logger","warn","getRandomDelay","maxDelay","arguments","length","undefined","Math","floor","random","getDelayFromConfig","shouldRandomizeDelay","randomizeDelay","delay","delayV","reduceMotionV","ReducedMotionManager","jsValue","ReduceMotion","Never","Always","getDurationFromConfig","animationName","defaultDuration","Animations","duration","durationV","getCallbackFromConfig","callbackV","getReversedFromConfig","reversed","animationType","easing","callback","element","Keyframe","style","animationFillMode","timestampRules","values","definitions","position","rect","getBoundingClientRect","snapshot","top","left","width","height","scrollOffsets","getElementScrollValue","snapshots","set","animationConfig","shouldSavePosition","parent","configureAnimation","animationDuration","animationDelay","animationTimingFunction","LayoutAnimationType","ENTERING","requestAnimationFrame","onanimationend","contains","removedAfterAnimation","removeChild","removeEventListener","animationCancelHandler","onanimationstart","_updatePropsJS","visibility","addEventListener","scheduleAnimationCleanup","setElementPosition","get","transitionData","TransitionType","LINEAR","SEQUENCED","FADING","JUMPING","CURVED","ENTRY_EXIT","_TransitionGenerator","TransitionGenerator","transitionKeyframeName","dummyTransitionKeyframeName","_prepareCurvedTransit","prepareCurvedTransition","dummy","dummyAnimationConfig","current","scrollTopOffset","scrollLeftOffset","scrollTop","scrollLeft","parentElement","offsetParent","cloneNode","reanimatedDummy","firstChild","appendChild","currentScrollTopOffset","lastScrollTopOffset","currentScrollLeftOffset","lastScrollLeftOffset"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/layoutReanimation/web/componentUtils.ts"],"sourcesContent":["'use strict';\n\nimport { Animations, TransitionType } from './config';\nimport type {\n  AnimationCallback,\n  AnimationConfig,\n  AnimationNames,\n  CustomConfig,\n  KeyframeDefinitions,\n} from './config';\nimport { WebEasings, getEasingByName } from './Easing.web';\nimport type { WebEasingsNames } from './Easing.web';\nimport type { TransitionData } from './animationParser';\nimport { TransitionGenerator } from './createAnimation';\nimport { scheduleAnimationCleanup } from './domUtils';\nimport { _updatePropsJS } from '../../js-reanimated';\nimport type { ReanimatedHTMLElement } from '../../js-reanimated';\nimport { ReduceMotion } from '../../commonTypes';\nimport { LayoutAnimationType } from '../animationBuilder/commonTypes';\nimport type { ReanimatedSnapshot, ScrollOffsets } from './componentStyle';\nimport { setElementPosition, snapshots } from './componentStyle';\nimport { Keyframe } from '../animationBuilder';\nimport { ReducedMotionManager } from '../../ReducedMotion';\nimport { prepareCurvedTransition } from './transition/Curved.web';\nimport { EasingNameSymbol } from '../../Easing';\nimport { logger } from '../../logger';\n\nfunction getEasingFromConfig(config: CustomConfig): string {\n  if (!config.easingV) {\n    return getEasingByName('linear');\n  }\n\n  const easingName = config.easingV[EasingNameSymbol];\n\n  if (!(easingName in WebEasings)) {\n    logger.warn(`Selected easing is not currently supported on web.`);\n\n    return getEasingByName('linear');\n  }\n\n  return getEasingByName(easingName as WebEasingsNames);\n}\n\nfunction getRandomDelay(maxDelay = 1000) {\n  return Math.floor(Math.random() * (maxDelay + 1)) / 1000;\n}\n\nfunction getDelayFromConfig(config: CustomConfig): number {\n  const shouldRandomizeDelay = config.randomizeDelay;\n\n  const delay = shouldRandomizeDelay ? getRandomDelay() : 0;\n\n  if (!config.delayV) {\n    return delay;\n  }\n\n  return shouldRandomizeDelay\n    ? getRandomDelay(config.delayV)\n    : config.delayV / 1000;\n}\n\nexport function getReducedMotionFromConfig(config: CustomConfig) {\n  if (!config.reduceMotionV) {\n    return ReducedMotionManager.jsValue;\n  }\n\n  switch (config.reduceMotionV) {\n    case ReduceMotion.Never:\n      return false;\n    case ReduceMotion.Always:\n      return true;\n    default:\n      return ReducedMotionManager.jsValue;\n  }\n}\n\nfunction getDurationFromConfig(\n  config: CustomConfig,\n  animationName: string\n): number {\n  // Duration in keyframe has to be in seconds. However, when using `.duration()` modifier we pass it in miliseconds.\n  // If `duration` was specified in config, we have to divide it by `1000`, otherwise we return value that is already in seconds.\n\n  const defaultDuration =\n    animationName in Animations\n      ? Animations[animationName as AnimationNames].duration\n      : 0.3;\n\n  return config.durationV !== undefined\n    ? config.durationV / 1000\n    : defaultDuration;\n}\n\nfunction getCallbackFromConfig(config: CustomConfig): AnimationCallback {\n  return config.callbackV !== undefined ? config.callbackV : null;\n}\n\nfunction getReversedFromConfig(config: CustomConfig) {\n  return !!config.reversed;\n}\n\nexport function getProcessedConfig(\n  animationName: string,\n  animationType: LayoutAnimationType,\n  config: CustomConfig\n): AnimationConfig {\n  return {\n    animationName,\n    animationType,\n    duration: getDurationFromConfig(config, animationName),\n    delay: getDelayFromConfig(config),\n    easing: getEasingFromConfig(config),\n    callback: getCallbackFromConfig(config),\n    reversed: getReversedFromConfig(config),\n  };\n}\n\nexport function maybeModifyStyleForKeyframe(\n  element: HTMLElement,\n  config: CustomConfig\n) {\n  if (!(config instanceof Keyframe)) {\n    return;\n  }\n\n  // We need to set `animationFillMode` to `forwards`, otherwise component will go back to its position.\n  // This will result in wrong snapshot\n  element.style.animationFillMode = 'forwards';\n\n  for (const timestampRules of Object.values(\n    config.definitions as KeyframeDefinitions\n  )) {\n    if ('originX' in timestampRules || 'originY' in timestampRules) {\n      element.style.position = 'absolute';\n      return;\n    }\n  }\n}\n\nexport function saveSnapshot(element: HTMLElement) {\n  const rect = element.getBoundingClientRect();\n\n  const snapshot: ReanimatedSnapshot = {\n    top: rect.top,\n    left: rect.left,\n    width: rect.width,\n    height: rect.height,\n    scrollOffsets: getElementScrollValue(element),\n  };\n\n  snapshots.set(element, snapshot);\n}\n\nexport function setElementAnimation(\n  element: ReanimatedHTMLElement,\n  animationConfig: AnimationConfig,\n  shouldSavePosition = false,\n  parent: Element | null = null\n) {\n  const { animationName, duration, delay, easing } = animationConfig;\n\n  const configureAnimation = () => {\n    element.style.animationName = animationName;\n    element.style.animationDuration = `${duration}s`;\n    element.style.animationDelay = `${delay}s`;\n    element.style.animationTimingFunction = easing;\n  };\n\n  if (animationConfig.animationType === LayoutAnimationType.ENTERING) {\n    // On chrome sometimes entering animations flicker. This is most likely caused by animation being interrupted\n    // by already started tasks. To avoid flickering, we use `requestAnimationFrame`, which will run callback right before repaint.\n    requestAnimationFrame(configureAnimation);\n  } else {\n    configureAnimation();\n  }\n\n  element.onanimationend = () => {\n    if (shouldSavePosition) {\n      saveSnapshot(element);\n    }\n\n    if (parent?.contains(element)) {\n      element.removedAfterAnimation = true;\n      parent.removeChild(element);\n    }\n\n    animationConfig.callback?.(true);\n    element.removeEventListener('animationcancel', animationCancelHandler);\n  };\n\n  const animationCancelHandler = () => {\n    animationConfig.callback?.(false);\n\n    if (parent?.contains(element)) {\n      element.removedAfterAnimation = true;\n      parent.removeChild(element);\n    }\n\n    element.removeEventListener('animationcancel', animationCancelHandler);\n  };\n\n  // Here we have to use `addEventListener` since element.onanimationcancel doesn't work on chrome\n  element.onanimationstart = () => {\n    if (animationConfig.animationType === LayoutAnimationType.ENTERING) {\n      _updatePropsJS({ visibility: 'initial' }, element);\n    }\n\n    element.addEventListener('animationcancel', animationCancelHandler);\n  };\n\n  if (!(animationName in Animations)) {\n    scheduleAnimationCleanup(animationName, duration + delay, () => {\n      if (shouldSavePosition) {\n        setElementPosition(element, snapshots.get(element)!);\n      }\n    });\n  }\n}\n\nexport function handleLayoutTransition(\n  element: ReanimatedHTMLElement,\n  animationConfig: AnimationConfig,\n  transitionData: TransitionData\n) {\n  const { animationName } = animationConfig;\n\n  let animationType;\n\n  switch (animationName) {\n    case 'LinearTransition':\n      animationType = TransitionType.LINEAR;\n      break;\n    case 'SequencedTransition':\n      animationType = TransitionType.SEQUENCED;\n      break;\n    case 'FadingTransition':\n      animationType = TransitionType.FADING;\n      break;\n    case 'JumpingTransition':\n      animationType = TransitionType.JUMPING;\n      break;\n    case 'CurvedTransition':\n      animationType = TransitionType.CURVED;\n      break;\n    case 'EntryExitTransition':\n      animationType = TransitionType.ENTRY_EXIT;\n      break;\n    default:\n      animationType = TransitionType.LINEAR;\n      break;\n  }\n\n  const { transitionKeyframeName, dummyTransitionKeyframeName } =\n    TransitionGenerator(animationType, transitionData);\n\n  animationConfig.animationName = transitionKeyframeName;\n\n  if (animationType === TransitionType.CURVED) {\n    const { dummy, dummyAnimationConfig } = prepareCurvedTransition(\n      element,\n      animationConfig,\n      transitionData,\n      dummyTransitionKeyframeName! // In `CurvedTransition` it cannot be undefined\n    );\n\n    setElementAnimation(dummy, dummyAnimationConfig);\n  }\n  setElementAnimation(element, animationConfig);\n}\n\nfunction getElementScrollValue(element: HTMLElement): ScrollOffsets {\n  let current: HTMLElement | null = element;\n\n  const scrollOffsets: ScrollOffsets = {\n    scrollTopOffset: 0,\n    scrollLeftOffset: 0,\n  };\n\n  while (current) {\n    if (current.scrollTop !== 0 && scrollOffsets.scrollTopOffset === 0) {\n      scrollOffsets.scrollTopOffset = current.scrollTop;\n    }\n\n    if (current.scrollLeft !== 0 && scrollOffsets.scrollLeftOffset === 0) {\n      scrollOffsets.scrollLeftOffset = current.scrollLeft;\n    }\n\n    current = current.parentElement;\n  }\n\n  return scrollOffsets;\n}\n\nexport function handleExitingAnimation(\n  element: HTMLElement,\n  animationConfig: AnimationConfig\n) {\n  const parent = element.offsetParent;\n  const dummy = element.cloneNode() as ReanimatedHTMLElement;\n  dummy.reanimatedDummy = true;\n\n  element.style.animationName = '';\n  dummy.style.animationName = '';\n\n  // After cloning the element, we want to move all children from original element to its clone. This is because original element\n  // will be unmounted, therefore when this code executes in child component, parent will be either empty or removed soon.\n  // Using element.cloneNode(true) doesn't solve the problem, because it creates copy of children and we won't be able to set their animations\n  //\n  // This loop works because appendChild() moves element into its new parent instead of copying it\n  while (element.firstChild) {\n    dummy.appendChild(element.firstChild);\n  }\n\n  parent?.appendChild(dummy);\n\n  const snapshot = snapshots.get(element)!;\n\n  const scrollOffsets = getElementScrollValue(element);\n\n  // Scroll does not trigger snapshotting, therefore if we start exiting animation after\n  // scrolling through parent component, dummy will end up in wrong place. In order to fix that\n  // we keep last known scroll position in snapshot and then adjust dummy position based on\n  // last known scroll offset and current scroll offset\n\n  const currentScrollTopOffset = scrollOffsets.scrollTopOffset;\n  const lastScrollTopOffset = snapshot.scrollOffsets.scrollTopOffset;\n\n  if (currentScrollTopOffset !== lastScrollTopOffset) {\n    snapshot.top += lastScrollTopOffset - currentScrollTopOffset;\n  }\n\n  const currentScrollLeftOffset = scrollOffsets.scrollLeftOffset;\n  const lastScrollLeftOffset = snapshot.scrollOffsets.scrollLeftOffset;\n\n  if (currentScrollLeftOffset !== lastScrollLeftOffset) {\n    snapshot.left += lastScrollLeftOffset - currentScrollLeftOffset;\n  }\n\n  snapshots.set(dummy, snapshot);\n\n  setElementPosition(dummy, snapshot);\n\n  setElementAnimation(dummy, animationConfig, false, parent);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}