{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.createAnimatedComponent=createAnimatedComponent;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));var _react=_interopRequireDefault(require(\"react\"));var _reactNative=require(\"react-native\");var _findNodeHandle=require(\"../platformFunctions/findNodeHandle\");require(\"../layoutReanimation/animationsManager.js\");var _invariant=_interopRequireDefault(require(\"invariant\"));var _ConfigHelper=require(\"../ConfigHelper.js\");var _RNRenderer=require(\"../platform-specific/RNRenderer\");var _core=require(\"../core.js\");var _index=require(\"../layoutReanimation/index.js\");var _fabricUtils=require(\"../fabricUtils\");var _PropsRegistry=require(\"../PropsRegistry.js\");var _util=require(\"../animation/util.js\");var _animationBuilder=require(\"../animationBuilder.js\");var _LayoutAnimationConfig=require(\"../component/LayoutAnimationConfig.js\");var _JSPropsUpdater=_interopRequireDefault(require(\"./JSPropsUpdater\"));var _utils=require(\"./utils.js\");var _setAndForwardRef=_interopRequireDefault(require(\"./setAndForwardRef.js\"));var _PlatformChecker=require(\"../PlatformChecker.js\");var _InlinePropManager=require(\"./InlinePropManager.js\");var _PropsFilter=require(\"./PropsFilter.js\");var _index2=require(\"../layoutReanimation/web/index.js\");var _UpdateLayoutAnimations=require(\"../UpdateLayoutAnimations.js\");var _domUtils=require(\"../layoutReanimation/web/domUtils.js\");var _getViewInfo2=require(\"./getViewInfo.js\");var _NativeEventsManager=require(\"./NativeEventsManager.js\");var _errors=require(\"../errors.js\");function _callSuper(t,o,e){return o=(0,_getPrototypeOf2.default)(o),(0,_possibleConstructorReturn2.default)(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,_getPrototypeOf2.default)(t).constructor):o.apply(t,e));}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t;})();}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);}return n;},_extends.apply(null,arguments);}var IS_WEB=(0,_PlatformChecker.isWeb)();var IS_JEST=(0,_PlatformChecker.isJest)();var SHOULD_BE_USE_WEB=(0,_PlatformChecker.shouldBeUseWeb)();if(IS_WEB){(0,_index2.configureWebLayoutAnimations)();}function onlyAnimatedStyles(styles){return styles.filter(function(style){return style==null?void 0:style.viewDescriptors;});}var id=0;function createAnimatedComponent(Component,options){(0,_invariant.default)(typeof Component!=='function'||Component.prototype&&Component.prototype.isReactComponent,`Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`);var AnimatedComponent=function(_React$Component){function AnimatedComponent(props){var _this;(0,_classCallCheck2.default)(this,AnimatedComponent);_this=_callSuper(this,AnimatedComponent,[props]);_this._styles=null;_this._componentViewTag=-1;_this._isFirstRender=true;_this.jestAnimatedStyle={value:{}};_this._component=null;_this._sharedElementTransition=null;_this._jsPropsUpdater=new _JSPropsUpdater.default();_this._InlinePropManager=new _InlinePropManager.InlinePropManager();_this._PropsFilter=new _PropsFilter.PropsFilter();_this.reanimatedID=id++;_this._setComponentRef=(0,_setAndForwardRef.default)({getForwardedRef:function getForwardedRef(){return _this.props.forwardedRef;},setLocalRef:function setLocalRef(ref){var tag=(0,_findNodeHandle.findNodeHandle)(ref);if(tag!==null){_this._componentViewTag=tag;}var _this$props=_this.props,layout=_this$props.layout,entering=_this$props.entering,exiting=_this$props.exiting,sharedTransitionTag=_this$props.sharedTransitionTag;if((layout||entering||exiting||sharedTransitionTag)&&tag!=null){var _this$context;if(!SHOULD_BE_USE_WEB){(0,_core.enableLayoutAnimations)(true,false);}if(sharedTransitionTag){_this._configureSharedTransition();}if(exiting&&(0,_PlatformChecker.isFabric)()){var reduceMotionInExiting='getReduceMotion'in exiting&&typeof exiting.getReduceMotion==='function'?(0,_util.getReduceMotionFromConfig)(exiting.getReduceMotion()):(0,_util.getReduceMotionFromConfig)();if(!reduceMotionInExiting){var _this$props2;(0,_UpdateLayoutAnimations.updateLayoutAnimations)(tag,_index.LayoutAnimationType.EXITING,(0,_animationBuilder.maybeBuild)(exiting,(_this$props2=_this.props)==null?void 0:_this$props2.style,AnimatedComponent.displayName));}}var skipEntering=(_this$context=_this.context)==null?void 0:_this$context.current;if(entering&&!skipEntering&&!IS_WEB){var _this$props3;(0,_UpdateLayoutAnimations.updateLayoutAnimations)(tag,_index.LayoutAnimationType.ENTERING,(0,_animationBuilder.maybeBuild)(entering,(_this$props3=_this.props)==null?void 0:_this$props3.style,AnimatedComponent.displayName));}}if(ref!==_this._component){_this._component=ref;}}});if(IS_JEST){_this.jestAnimatedStyle={value:{}};}var _entering=_this.props.entering;if(_entering&&(0,_PlatformChecker.isFabric)()){var _this$props4;(0,_UpdateLayoutAnimations.updateLayoutAnimations)(_this.reanimatedID,_index.LayoutAnimationType.ENTERING,(0,_animationBuilder.maybeBuild)(_entering,(_this$props4=_this.props)==null?void 0:_this$props4.style,AnimatedComponent.displayName));}return _this;}(0,_inherits2.default)(AnimatedComponent,_React$Component);return(0,_createClass2.default)(AnimatedComponent,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$_NativeEventsMa;this._componentViewTag=this._getComponentViewTag();if(!IS_WEB){this._NativeEventsManager=new _NativeEventsManager.NativeEventsManager(this,options);}(_this$_NativeEventsMa=this._NativeEventsManager)==null||_this$_NativeEventsMa.attachEvents();this._jsPropsUpdater.addOnJSPropsChangeListener(this);this._attachAnimatedStyles();this._InlinePropManager.attachInlineProps(this,this._getViewInfo());var layout=this.props.layout;if(layout){this._configureLayoutTransition();}if(IS_WEB){var _this$context2;if(this.props.exiting){(0,_index2.saveSnapshot)(this._component);}if(!this.props.entering||(0,_index2.getReducedMotionFromConfig)(this.props.entering)){this._isFirstRender=false;return;}var skipEntering=(_this$context2=this.context)==null?void 0:_this$context2.current;if(!skipEntering){(0,_index2.startWebLayoutAnimation)(this.props,this._component,_index.LayoutAnimationType.ENTERING);}else{this._component.style.visibility='initial';}}this._isFirstRender=false;}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){var _this$_NativeEventsMa2,_this$_sharedElementT;(_this$_NativeEventsMa2=this._NativeEventsManager)==null||_this$_NativeEventsMa2.detachEvents();this._jsPropsUpdater.removeOnJSPropsChangeListener(this);this._detachStyles();this._InlinePropManager.detachInlineProps();if(this.props.sharedTransitionTag){this._configureSharedTransition(true);}(_this$_sharedElementT=this._sharedElementTransition)==null||_this$_sharedElementT.unregisterTransition(this._componentViewTag,true);var exiting=this.props.exiting;if(IS_WEB&&this._component&&exiting&&!(0,_index2.getReducedMotionFromConfig)(exiting)){(0,_domUtils.addHTMLMutationObserver)();(0,_index2.startWebLayoutAnimation)(this.props,this._component,_index.LayoutAnimationType.EXITING);}else if(exiting&&!IS_WEB&&!(0,_PlatformChecker.isFabric)()){var reduceMotionInExiting='getReduceMotion'in exiting&&typeof exiting.getReduceMotion==='function'?(0,_util.getReduceMotionFromConfig)(exiting.getReduceMotion()):(0,_util.getReduceMotionFromConfig)();if(!reduceMotionInExiting){var _this$props5;(0,_UpdateLayoutAnimations.updateLayoutAnimations)(this._componentViewTag,_index.LayoutAnimationType.EXITING,(0,_animationBuilder.maybeBuild)(exiting,(_this$props5=this.props)==null?void 0:_this$props5.style,AnimatedComponent.displayName));}}}},{key:\"_getComponentViewTag\",value:function _getComponentViewTag(){return this._getViewInfo().viewTag;}},{key:\"_detachStyles\",value:function _detachStyles(){if(this._componentViewTag!==-1&&this._styles!==null){var _this$props$animatedP;for(var style of this._styles){style.viewDescriptors.remove(this._componentViewTag);}if((_this$props$animatedP=this.props.animatedProps)!=null&&_this$props$animatedP.viewDescriptors){this.props.animatedProps.viewDescriptors.remove(this._componentViewTag);}if((0,_PlatformChecker.isFabric)()){(0,_PropsRegistry.removeFromPropsRegistry)(this._componentViewTag);}}}},{key:\"_updateFromNative\",value:function _updateFromNative(props){if(options!=null&&options.setNativeProps){options.setNativeProps(this._component,props);}else{var _this$_component;(_this$_component=this._component)==null||_this$_component.setNativeProps==null||_this$_component.setNativeProps(props);}}},{key:\"_getViewInfo\",value:function _getViewInfo(){var _this$_component2,_this$_component$getA,_this$_component3;if(this._viewInfo!==undefined){return this._viewInfo;}var viewTag;var viewName;var shadowNodeWrapper=null;var viewConfig;var component=(_this$_component2=this._component)!=null&&_this$_component2.getAnimatableRef?(_this$_component$getA=(_this$_component3=this._component).getAnimatableRef)==null?void 0:_this$_component$getA.call(_this$_component3):this;if(SHOULD_BE_USE_WEB){viewTag=this._component;viewName=null;shadowNodeWrapper=null;viewConfig=null;}else{var hostInstance=_RNRenderer.RNRenderer.findHostInstance_DEPRECATED(component);if(!hostInstance){throw new _errors.ReanimatedError('Cannot find host instance for this component. Maybe it renders nothing?');}var viewInfo=(0,_getViewInfo2.getViewInfo)(hostInstance);viewTag=viewInfo.viewTag;viewName=viewInfo.viewName;viewConfig=viewInfo.viewConfig;shadowNodeWrapper=(0,_PlatformChecker.isFabric)()?(0,_fabricUtils.getShadowNodeWrapperFromRef)(this):null;}this._viewInfo={viewTag:viewTag,viewName:viewName,shadowNodeWrapper:shadowNodeWrapper,viewConfig:viewConfig};return this._viewInfo;}},{key:\"_attachAnimatedStyles\",value:function _attachAnimatedStyles(){var _this$props$animatedP2,_this2=this,_this$props$animatedP3;var styles=this.props.style?onlyAnimatedStyles((0,_utils.flattenArray)(this.props.style)):[];var prevStyles=this._styles;this._styles=styles;var prevAnimatedProps=this._animatedProps;this._animatedProps=this.props.animatedProps;var _this$_getViewInfo=this._getViewInfo(),viewTag=_this$_getViewInfo.viewTag,viewName=_this$_getViewInfo.viewName,shadowNodeWrapper=_this$_getViewInfo.shadowNodeWrapper,viewConfig=_this$_getViewInfo.viewConfig;var hasReanimated2Props=((_this$props$animatedP2=this.props.animatedProps)==null?void 0:_this$props$animatedP2.viewDescriptors)||styles.length;if(hasReanimated2Props&&viewConfig){(0,_ConfigHelper.adaptViewConfig)(viewConfig);}this._componentViewTag=viewTag;if(prevStyles){var hasOneSameStyle=styles.length===1&&prevStyles.length===1&&styles[0]===prevStyles[0];if(!hasOneSameStyle){var _loop=function _loop(prevStyle){var isPresent=styles.some(function(style){return style===prevStyle;});if(!isPresent){prevStyle.viewDescriptors.remove(viewTag);}};for(var prevStyle of prevStyles){_loop(prevStyle);}}}styles.forEach(function(style){style.viewDescriptors.add({tag:viewTag,name:viewName,shadowNodeWrapper:shadowNodeWrapper});if(IS_JEST){_this2.jestAnimatedStyle.value=Object.assign({},_this2.jestAnimatedStyle.value,style.initial.value);style.jestAnimatedStyle.current=_this2.jestAnimatedStyle;}});if(prevAnimatedProps&&prevAnimatedProps!==this.props.animatedProps){prevAnimatedProps.viewDescriptors.remove(viewTag);}if((_this$props$animatedP3=this.props.animatedProps)!=null&&_this$props$animatedP3.viewDescriptors){this.props.animatedProps.viewDescriptors.add({tag:viewTag,name:viewName,shadowNodeWrapper:shadowNodeWrapper});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,_prevState,snapshot){var _this$_NativeEventsMa3;var layout=this.props.layout;var oldLayout=prevProps.layout;if(layout!==oldLayout){this._configureLayoutTransition();}if(this.props.sharedTransitionTag!==undefined||prevProps.sharedTransitionTag!==undefined){this._configureSharedTransition();}(_this$_NativeEventsMa3=this._NativeEventsManager)==null||_this$_NativeEventsMa3.updateEvents(prevProps);this._attachAnimatedStyles();this._InlinePropManager.attachInlineProps(this,this._getViewInfo());if(IS_WEB&&this.props.exiting){(0,_index2.saveSnapshot)(this._component);}if(IS_WEB&&snapshot!==null&&this.props.layout&&!(0,_index2.getReducedMotionFromConfig)(this.props.layout)){(0,_index2.tryActivateLayoutTransition)(this.props,this._component,snapshot);}}},{key:\"_configureLayoutTransition\",value:function _configureLayoutTransition(){if(IS_WEB){return;}var layout=this.props.layout?(0,_animationBuilder.maybeBuild)(this.props.layout,undefined,AnimatedComponent.displayName):undefined;(0,_UpdateLayoutAnimations.updateLayoutAnimations)(this._componentViewTag,_index.LayoutAnimationType.LAYOUT,layout);}},{key:\"_configureSharedTransition\",value:function _configureSharedTransition(){var _ref,_this$props$sharedTra;var isUnmounting=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(IS_WEB){return;}var sharedTransitionTag=this.props.sharedTransitionTag;if(!sharedTransitionTag){var _this$_sharedElementT2;(_this$_sharedElementT2=this._sharedElementTransition)==null||_this$_sharedElementT2.unregisterTransition(this._componentViewTag,isUnmounting);this._sharedElementTransition=null;return;}var sharedElementTransition=(_ref=(_this$props$sharedTra=this.props.sharedTransitionStyle)!=null?_this$props$sharedTra:this._sharedElementTransition)!=null?_ref:new _index.SharedTransition();sharedElementTransition.registerTransition(this._componentViewTag,sharedTransitionTag,isUnmounting);this._sharedElementTransition=sharedElementTransition;}},{key:\"getSnapshotBeforeUpdate\",value:function getSnapshotBeforeUpdate(){var _this$_component4;if(IS_WEB&&((_this$_component4=this._component)==null?void 0:_this$_component4.getBoundingClientRect)!==undefined){return this._component.getBoundingClientRect();}return null;}},{key:\"render\",value:function render(){var _this$context3;var filteredProps=this._PropsFilter.filterNonAnimatedProps(this);if(IS_JEST){filteredProps.jestAnimatedStyle=this.jestAnimatedStyle;}if(this._isFirstRender&&IS_WEB&&filteredProps.entering&&!(0,_index2.getReducedMotionFromConfig)(filteredProps.entering)){var _filteredProps$style;filteredProps.style=Object.assign({},(_filteredProps$style=filteredProps.style)!=null?_filteredProps$style:{},{visibility:'hidden'});}var platformProps=_reactNative.Platform.select({web:{},default:{collapsable:false}});var skipEntering=(_this$context3=this.context)==null?void 0:_this$context3.current;var nativeID=skipEntering||!(0,_PlatformChecker.isFabric)()?undefined:`${this.reanimatedID}`;var jestProps=IS_JEST?{jestInlineStyle:this.props.style,jestAnimatedStyle:this.jestAnimatedStyle}:{};return _react.default.createElement(Component,_extends({nativeID:nativeID},filteredProps,jestProps,{ref:this._setComponentRef},platformProps));}}]);}(_react.default.Component);AnimatedComponent.contextType=_LayoutAnimationConfig.SkipEnteringContext;AnimatedComponent.displayName=`AnimatedComponent(${Component.displayName||Component.name||'Component'})`;return _react.default.forwardRef(function(props,ref){return _react.default.createElement(AnimatedComponent,_extends({},props,ref===null?null:{forwardedRef:ref}));});}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","createAnimatedComponent","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_react","_reactNative","_findNodeHandle","_invariant","_ConfigHelper","_RNRenderer","_core","_index","_fabricUtils","_PropsRegistry","_util","_animationBuilder","_LayoutAnimationConfig","_JSPropsUpdater","_utils","_setAndForwardRef","_PlatformChecker","_InlinePropManager","_PropsFilter","_index2","_UpdateLayoutAnimations","_domUtils","_getViewInfo2","_NativeEventsManager","_errors","_callSuper","t","o","e","default","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","prototype","valueOf","call","_extends","assign","bind","n","arguments","length","r","hasOwnProperty","IS_WEB","isWeb","IS_JEST","isJest","SHOULD_BE_USE_WEB","shouldBeUseWeb","configureWebLayoutAnimations","onlyAnimatedStyles","styles","filter","style","viewDescriptors","id","Component","options","invariant","isReactComponent","name","AnimatedComponent","_React$Component","props","_this","_styles","_componentViewTag","_isFirstRender","jestAnimatedStyle","_component","_sharedElementTransition","_jsPropsUpdater","JSPropsUpdater","InlinePropManager","PropsFilter","reanimatedID","_setComponentRef","setAndForwardRef","getForwardedRef","forwardedRef","setLocalRef","ref","tag","findNodeHandle","_this$props","layout","entering","exiting","sharedTransitionTag","_this$context","enableLayoutAnimations","_configureSharedTransition","isFabric","reduceMotionInExiting","getReduceMotion","getReduceMotionFromConfig","_this$props2","updateLayoutAnimations","LayoutAnimationType","EXITING","maybeBuild","displayName","skipEntering","context","current","_this$props3","ENTERING","_this$props4","key","componentDidMount","_this$_NativeEventsMa","_getComponentViewTag","NativeEventsManager","attachEvents","addOnJSPropsChangeListener","_attachAnimatedStyles","attachInlineProps","_getViewInfo","_configureLayoutTransition","_this$context2","saveSnapshot","getReducedMotionFromConfig","startWebLayoutAnimation","visibility","componentWillUnmount","_this$_NativeEventsMa2","_this$_sharedElementT","detachEvents","removeOnJSPropsChangeListener","_detachStyles","detachInlineProps","unregisterTransition","addHTMLMutationObserver","_this$props5","viewTag","_this$props$animatedP","remove","animatedProps","removeFromPropsRegistry","_updateFromNative","setNativeProps","_this$_component","_this$_component2","_this$_component$getA","_this$_component3","_viewInfo","undefined","viewName","shadowNodeWrapper","viewConfig","component","getAnimatableRef","hostInstance","RNRenderer","findHostInstance_DEPRECATED","ReanimatedError","viewInfo","getViewInfo","getShadowNodeWrapperFromRef","_this$props$animatedP2","_this2","_this$props$animatedP3","flattenArray","prevStyles","prevAnimatedProps","_animatedProps","_this$_getViewInfo","hasReanimated2Props","adaptViewConfig","hasOneSameStyle","_loop","prevStyle","isPresent","some","forEach","add","initial","componentDidUpdate","prevProps","_prevState","snapshot","_this$_NativeEventsMa3","oldLayout","updateEvents","tryActivateLayoutTransition","LAYOUT","_ref","_this$props$sharedTra","isUnmounting","_this$_sharedElementT2","sharedElementTransition","sharedTransitionStyle","SharedTransition","registerTransition","getSnapshotBeforeUpdate","_this$_component4","getBoundingClientRect","render","_this$context3","filteredProps","filterNonAnimatedProps","_filteredProps$style","platformProps","Platform","select","web","collapsable","nativeID","jestProps","jestInlineStyle","React","createElement","contextType","SkipEnteringContext","forwardRef"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/createAnimatedComponent/createAnimatedComponent.tsx"],"sourcesContent":["'use strict';\nimport type {\n  Component,\n  ComponentClass,\n  ComponentType,\n  FunctionComponent,\n  MutableRefObject,\n} from 'react';\nimport React from 'react';\nimport { Platform } from 'react-native';\nimport { findNodeHandle } from '../platformFunctions/findNodeHandle';\nimport '../layoutReanimation/animationsManager';\nimport invariant from 'invariant';\nimport { adaptViewConfig } from '../ConfigHelper';\nimport { RNRenderer } from '../platform-specific/RNRenderer';\nimport { enableLayoutAnimations } from '../core';\nimport { SharedTransition, LayoutAnimationType } from '../layoutReanimation';\nimport type { StyleProps, ShadowNodeWrapper } from '../commonTypes';\nimport { getShadowNodeWrapperFromRef } from '../fabricUtils';\nimport { removeFromPropsRegistry } from '../PropsRegistry';\nimport { getReduceMotionFromConfig } from '../animation/util';\nimport { maybeBuild } from '../animationBuilder';\nimport { SkipEnteringContext } from '../component/LayoutAnimationConfig';\nimport type { AnimateProps } from '../helperTypes';\nimport JSPropsUpdater from './JSPropsUpdater';\nimport type {\n  AnimatedComponentProps,\n  AnimatedProps,\n  InitialComponentProps,\n  AnimatedComponentRef,\n  IAnimatedComponentInternal,\n  ViewInfo,\n  INativeEventsManager,\n  NestedArray,\n} from './commonTypes';\nimport { flattenArray } from './utils';\nimport setAndForwardRef from './setAndForwardRef';\nimport { isFabric, isJest, isWeb, shouldBeUseWeb } from '../PlatformChecker';\nimport { InlinePropManager } from './InlinePropManager';\nimport { PropsFilter } from './PropsFilter';\nimport {\n  startWebLayoutAnimation,\n  tryActivateLayoutTransition,\n  configureWebLayoutAnimations,\n  getReducedMotionFromConfig,\n  saveSnapshot,\n} from '../layoutReanimation/web';\nimport { updateLayoutAnimations } from '../UpdateLayoutAnimations';\nimport type { CustomConfig } from '../layoutReanimation/web/config';\nimport type { FlatList, FlatListProps } from 'react-native';\nimport { addHTMLMutationObserver } from '../layoutReanimation/web/domUtils';\nimport { getViewInfo } from './getViewInfo';\nimport { NativeEventsManager } from './NativeEventsManager';\nimport type { ReanimatedHTMLElement } from '../js-reanimated';\nimport { ReanimatedError } from '../errors';\n\nconst IS_WEB = isWeb();\nconst IS_JEST = isJest();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nif (IS_WEB) {\n  configureWebLayoutAnimations();\n}\n\nfunction onlyAnimatedStyles(styles: StyleProps[]): StyleProps[] {\n  return styles.filter((style) => style?.viewDescriptors);\n}\n\ntype Options<P> = {\n  setNativeProps: (ref: AnimatedComponentRef, props: P) => void;\n};\n\n/**\n * Lets you create an Animated version of any React Native component.\n *\n * @param component - The component you want to make animatable.\n * @returns A component that Reanimated is capable of animating.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/core/createAnimatedComponent\n */\n\n// Don't change the order of overloads, since such a change breaks current behavior\nexport function createAnimatedComponent<P extends object>(\n  component: FunctionComponent<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  component: ComponentClass<P>,\n  options?: Options<P>\n): ComponentClass<AnimateProps<P>>;\n\nexport function createAnimatedComponent<P extends object>(\n  // Actually ComponentType<P = {}> = ComponentClass<P> | FunctionComponent<P> but we need this overload too\n  // since some external components (like FastImage) are typed just as ComponentType\n  component: ComponentType<P>,\n  options?: Options<P>\n): FunctionComponent<AnimateProps<P>> | ComponentClass<AnimateProps<P>>;\n\n/**\n * @deprecated Please use `Animated.FlatList` component instead of calling\n *   `Animated.createAnimatedComponent(FlatList)` manually.\n */\n// @ts-ignore This is required to create this overload, since type of createAnimatedComponent is incorrect and doesn't include typeof FlatList\nexport function createAnimatedComponent(\n  component: typeof FlatList<unknown>,\n  options?: Options<any>\n): ComponentClass<AnimateProps<FlatListProps<unknown>>>;\n\nlet id = 0;\n\nexport function createAnimatedComponent(\n  Component: ComponentType<InitialComponentProps>,\n  options?: Options<InitialComponentProps>\n): any {\n  invariant(\n    typeof Component !== 'function' ||\n      (Component.prototype && Component.prototype.isReactComponent),\n    `Looks like you're passing a function component \\`${Component.name}\\` to \\`createAnimatedComponent\\` function which supports only class components. Please wrap your function component with \\`React.forwardRef()\\` or use a class component instead.`\n  );\n\n  class AnimatedComponent\n    extends React.Component<AnimatedComponentProps<InitialComponentProps>>\n    implements IAnimatedComponentInternal\n  {\n    _styles: StyleProps[] | null = null;\n    _animatedProps?: Partial<AnimatedComponentProps<AnimatedProps>>;\n    _componentViewTag = -1;\n    _isFirstRender = true;\n    jestInlineStyle: NestedArray<StyleProps> | undefined;\n    jestAnimatedStyle: { value: StyleProps } = { value: {} };\n    _component: AnimatedComponentRef | HTMLElement | null = null;\n    _sharedElementTransition: SharedTransition | null = null;\n    _jsPropsUpdater = new JSPropsUpdater();\n    _InlinePropManager = new InlinePropManager();\n    _PropsFilter = new PropsFilter();\n    _NativeEventsManager?: INativeEventsManager;\n    _viewInfo?: ViewInfo;\n    static displayName: string;\n    static contextType = SkipEnteringContext;\n    context!: React.ContextType<typeof SkipEnteringContext>;\n    reanimatedID = id++;\n\n    constructor(props: AnimatedComponentProps<InitialComponentProps>) {\n      super(props);\n      if (IS_JEST) {\n        this.jestAnimatedStyle = { value: {} };\n      }\n      const entering = this.props.entering;\n      if (entering && isFabric()) {\n        updateLayoutAnimations(\n          this.reanimatedID,\n          LayoutAnimationType.ENTERING,\n          maybeBuild(entering, this.props?.style, AnimatedComponent.displayName)\n        );\n      }\n    }\n\n    componentDidMount() {\n      this._componentViewTag = this._getComponentViewTag();\n      if (!IS_WEB) {\n        // It exists only on native platforms. We initialize it here because the ref to the animated component is available only post-mount\n        this._NativeEventsManager = new NativeEventsManager(this, options);\n      }\n      this._NativeEventsManager?.attachEvents();\n      this._jsPropsUpdater.addOnJSPropsChangeListener(this);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      const layout = this.props.layout;\n      if (layout) {\n        this._configureLayoutTransition();\n      }\n\n      if (IS_WEB) {\n        if (this.props.exiting) {\n          saveSnapshot(this._component as HTMLElement);\n        }\n\n        if (\n          !this.props.entering ||\n          getReducedMotionFromConfig(this.props.entering as CustomConfig)\n        ) {\n          this._isFirstRender = false;\n          return;\n        }\n\n        const skipEntering = this.context?.current;\n\n        if (!skipEntering) {\n          startWebLayoutAnimation(\n            this.props,\n            this._component as ReanimatedHTMLElement,\n            LayoutAnimationType.ENTERING\n          );\n        } else {\n          (this._component as HTMLElement).style.visibility = 'initial';\n        }\n      }\n\n      this._isFirstRender = false;\n    }\n\n    componentWillUnmount() {\n      this._NativeEventsManager?.detachEvents();\n      this._jsPropsUpdater.removeOnJSPropsChangeListener(this);\n      this._detachStyles();\n      this._InlinePropManager.detachInlineProps();\n      if (this.props.sharedTransitionTag) {\n        this._configureSharedTransition(true);\n      }\n      this._sharedElementTransition?.unregisterTransition(\n        this._componentViewTag,\n        true\n      );\n\n      const exiting = this.props.exiting;\n\n      if (\n        IS_WEB &&\n        this._component &&\n        exiting &&\n        !getReducedMotionFromConfig(exiting as CustomConfig)\n      ) {\n        addHTMLMutationObserver();\n\n        startWebLayoutAnimation(\n          this.props,\n          this._component as ReanimatedHTMLElement,\n          LayoutAnimationType.EXITING\n        );\n      } else if (exiting && !IS_WEB && !isFabric()) {\n        const reduceMotionInExiting =\n          'getReduceMotion' in exiting &&\n          typeof exiting.getReduceMotion === 'function'\n            ? getReduceMotionFromConfig(exiting.getReduceMotion())\n            : getReduceMotionFromConfig();\n        if (!reduceMotionInExiting) {\n          updateLayoutAnimations(\n            this._componentViewTag,\n            LayoutAnimationType.EXITING,\n            maybeBuild(\n              exiting,\n              this.props?.style,\n              AnimatedComponent.displayName\n            )\n          );\n        }\n      }\n    }\n\n    _getComponentViewTag() {\n      return this._getViewInfo().viewTag as number;\n    }\n\n    _detachStyles() {\n      if (this._componentViewTag !== -1 && this._styles !== null) {\n        for (const style of this._styles) {\n          style.viewDescriptors.remove(this._componentViewTag);\n        }\n        if (this.props.animatedProps?.viewDescriptors) {\n          this.props.animatedProps.viewDescriptors.remove(\n            this._componentViewTag\n          );\n        }\n        if (isFabric()) {\n          removeFromPropsRegistry(this._componentViewTag);\n        }\n      }\n    }\n\n    _updateFromNative(props: StyleProps) {\n      if (options?.setNativeProps) {\n        options.setNativeProps(this._component as AnimatedComponentRef, props);\n      } else {\n        (this._component as AnimatedComponentRef)?.setNativeProps?.(props);\n      }\n    }\n\n    _getViewInfo(): ViewInfo {\n      if (this._viewInfo !== undefined) {\n        return this._viewInfo;\n      }\n\n      let viewTag: number | HTMLElement | null;\n      let viewName: string | null;\n      let shadowNodeWrapper: ShadowNodeWrapper | null = null;\n      let viewConfig;\n      // Component can specify ref which should be animated when animated version of the component is created.\n      // Otherwise, we animate the component itself.\n      const component = (this._component as AnimatedComponentRef)\n        ?.getAnimatableRef\n        ? (this._component as AnimatedComponentRef).getAnimatableRef?.()\n        : this;\n\n      if (SHOULD_BE_USE_WEB) {\n        // At this point I assume that `_setComponentRef` was already called and `_component` is set.\n        // `this._component` on web represents HTMLElement of our component, that's why we use casting\n        viewTag = this._component as HTMLElement;\n        viewName = null;\n        shadowNodeWrapper = null;\n        viewConfig = null;\n      } else {\n        // hostInstance can be null for a component that doesn't render anything (render function returns null). Example: svg Stop: https://github.com/react-native-svg/react-native-svg/blob/develop/src/elements/Stop.tsx\n        const hostInstance = RNRenderer.findHostInstance_DEPRECATED(component);\n        if (!hostInstance) {\n          throw new ReanimatedError(\n            'Cannot find host instance for this component. Maybe it renders nothing?'\n          );\n        }\n\n        const viewInfo = getViewInfo(hostInstance);\n        viewTag = viewInfo.viewTag;\n        viewName = viewInfo.viewName;\n        viewConfig = viewInfo.viewConfig;\n        shadowNodeWrapper = isFabric()\n          ? getShadowNodeWrapperFromRef(this)\n          : null;\n      }\n      this._viewInfo = { viewTag, viewName, shadowNodeWrapper, viewConfig };\n      return this._viewInfo;\n    }\n\n    _attachAnimatedStyles() {\n      const styles = this.props.style\n        ? onlyAnimatedStyles(flattenArray<StyleProps>(this.props.style))\n        : [];\n      const prevStyles = this._styles;\n      this._styles = styles;\n\n      const prevAnimatedProps = this._animatedProps;\n      this._animatedProps = this.props.animatedProps;\n\n      const { viewTag, viewName, shadowNodeWrapper, viewConfig } =\n        this._getViewInfo();\n\n      // update UI props whitelist for this view\n      const hasReanimated2Props =\n        this.props.animatedProps?.viewDescriptors || styles.length;\n      if (hasReanimated2Props && viewConfig) {\n        adaptViewConfig(viewConfig);\n      }\n\n      this._componentViewTag = viewTag as number;\n\n      // remove old styles\n      if (prevStyles) {\n        // in most of the cases, views have only a single animated style and it remains unchanged\n        const hasOneSameStyle =\n          styles.length === 1 &&\n          prevStyles.length === 1 &&\n          styles[0] === prevStyles[0];\n\n        if (!hasOneSameStyle) {\n          // otherwise, remove each style that is not present in new styles\n          for (const prevStyle of prevStyles) {\n            const isPresent = styles.some((style) => style === prevStyle);\n            if (!isPresent) {\n              prevStyle.viewDescriptors.remove(viewTag);\n            }\n          }\n        }\n      }\n\n      styles.forEach((style) => {\n        style.viewDescriptors.add({\n          tag: viewTag,\n          name: viewName,\n          shadowNodeWrapper,\n        });\n        if (IS_JEST) {\n          /**\n           * We need to connect Jest's TestObject instance whose contains just\n           * props object with the updateProps() function where we update the\n           * properties of the component. We can't update props object directly\n           * because TestObject contains a copy of props - look at render\n           * function: const props = this._filterNonAnimatedProps(this.props);\n           */\n          this.jestAnimatedStyle.value = {\n            ...this.jestAnimatedStyle.value,\n            ...style.initial.value,\n          };\n          style.jestAnimatedStyle.current = this.jestAnimatedStyle;\n        }\n      });\n\n      // detach old animatedProps\n      if (prevAnimatedProps && prevAnimatedProps !== this.props.animatedProps) {\n        prevAnimatedProps.viewDescriptors!.remove(viewTag as number);\n      }\n\n      // attach animatedProps property\n      if (this.props.animatedProps?.viewDescriptors) {\n        this.props.animatedProps.viewDescriptors.add({\n          tag: viewTag as number,\n          name: viewName!,\n          shadowNodeWrapper: shadowNodeWrapper!,\n        });\n      }\n    }\n\n    componentDidUpdate(\n      prevProps: AnimatedComponentProps<InitialComponentProps>,\n      _prevState: Readonly<unknown>,\n      // This type comes straight from React\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      snapshot: DOMRect | null\n    ) {\n      const layout = this.props.layout;\n      const oldLayout = prevProps.layout;\n      if (layout !== oldLayout) {\n        this._configureLayoutTransition();\n      }\n      if (\n        this.props.sharedTransitionTag !== undefined ||\n        prevProps.sharedTransitionTag !== undefined\n      ) {\n        this._configureSharedTransition();\n      }\n      this._NativeEventsManager?.updateEvents(prevProps);\n      this._attachAnimatedStyles();\n      this._InlinePropManager.attachInlineProps(this, this._getViewInfo());\n\n      if (IS_WEB && this.props.exiting) {\n        saveSnapshot(this._component as HTMLElement);\n      }\n\n      // Snapshot won't be undefined because it comes from getSnapshotBeforeUpdate method\n      if (\n        IS_WEB &&\n        snapshot !== null &&\n        this.props.layout &&\n        !getReducedMotionFromConfig(this.props.layout as CustomConfig)\n      ) {\n        tryActivateLayoutTransition(\n          this.props,\n          this._component as ReanimatedHTMLElement,\n          snapshot\n        );\n      }\n    }\n\n    _configureLayoutTransition() {\n      if (IS_WEB) {\n        return;\n      }\n\n      const layout = this.props.layout\n        ? maybeBuild(\n            this.props.layout,\n            undefined /* We don't have to warn user if style has common properties with animation for LAYOUT */,\n            AnimatedComponent.displayName\n          )\n        : undefined;\n      updateLayoutAnimations(\n        this._componentViewTag,\n        LayoutAnimationType.LAYOUT,\n        layout\n      );\n    }\n\n    _configureSharedTransition(isUnmounting = false) {\n      if (IS_WEB) {\n        return;\n      }\n\n      const { sharedTransitionTag } = this.props;\n      if (!sharedTransitionTag) {\n        this._sharedElementTransition?.unregisterTransition(\n          this._componentViewTag,\n          isUnmounting\n        );\n        this._sharedElementTransition = null;\n        return;\n      }\n      const sharedElementTransition =\n        this.props.sharedTransitionStyle ??\n        this._sharedElementTransition ??\n        new SharedTransition();\n      sharedElementTransition.registerTransition(\n        this._componentViewTag,\n        sharedTransitionTag,\n        isUnmounting\n      );\n      this._sharedElementTransition = sharedElementTransition;\n    }\n\n    _setComponentRef = setAndForwardRef<Component | HTMLElement>({\n      getForwardedRef: () =>\n        this.props.forwardedRef as MutableRefObject<\n          Component<Record<string, unknown>, Record<string, unknown>, unknown>\n        >,\n      setLocalRef: (ref) => {\n        // TODO update config\n\n        const tag = findNodeHandle(ref as Component);\n\n        // callback refs are executed twice - when the component mounts with ref,\n        // and with null when it unmounts\n        if (tag !== null) {\n          this._componentViewTag = tag;\n        }\n\n        const { layout, entering, exiting, sharedTransitionTag } = this.props;\n        if (\n          (layout || entering || exiting || sharedTransitionTag) &&\n          tag != null\n        ) {\n          if (!SHOULD_BE_USE_WEB) {\n            enableLayoutAnimations(true, false);\n          }\n\n          if (sharedTransitionTag) {\n            this._configureSharedTransition();\n          }\n          if (exiting && isFabric()) {\n            const reduceMotionInExiting =\n              'getReduceMotion' in exiting &&\n              typeof exiting.getReduceMotion === 'function'\n                ? getReduceMotionFromConfig(exiting.getReduceMotion())\n                : getReduceMotionFromConfig();\n            if (!reduceMotionInExiting) {\n              updateLayoutAnimations(\n                tag,\n                LayoutAnimationType.EXITING,\n                maybeBuild(\n                  exiting,\n                  this.props?.style,\n                  AnimatedComponent.displayName\n                )\n              );\n            }\n          }\n\n          const skipEntering = this.context?.current;\n          if (entering && !skipEntering && !IS_WEB) {\n            updateLayoutAnimations(\n              tag,\n              LayoutAnimationType.ENTERING,\n              maybeBuild(\n                entering,\n                this.props?.style,\n                AnimatedComponent.displayName\n              )\n            );\n          }\n        }\n\n        if (ref !== this._component) {\n          this._component = ref;\n        }\n      },\n    });\n\n    // This is a component lifecycle method from React, therefore we are not calling it directly.\n    // It is called before the component gets rerendered. This way we can access components' position before it changed\n    // and later on, in componentDidUpdate, calculate translation for layout transition.\n    getSnapshotBeforeUpdate() {\n      if (\n        IS_WEB &&\n        (this._component as HTMLElement)?.getBoundingClientRect !== undefined\n      ) {\n        return (this._component as HTMLElement).getBoundingClientRect();\n      }\n\n      return null;\n    }\n\n    render() {\n      const filteredProps = this._PropsFilter.filterNonAnimatedProps(this);\n\n      if (IS_JEST) {\n        filteredProps.jestAnimatedStyle = this.jestAnimatedStyle;\n      }\n\n      // Layout animations on web are set inside `componentDidMount` method, which is called after first render.\n      // Because of that we can encounter a situation in which component is visible for a short amount of time, and later on animation triggers.\n      // I've tested that on various browsers and devices and it did not happen to me. To be sure that it won't happen to someone else,\n      // I've decided to hide component at first render. Its visibility is reset in `componentDidMount`.\n      if (\n        this._isFirstRender &&\n        IS_WEB &&\n        filteredProps.entering &&\n        !getReducedMotionFromConfig(filteredProps.entering as CustomConfig)\n      ) {\n        filteredProps.style = {\n          ...(filteredProps.style ?? {}),\n          visibility: 'hidden', // Hide component until `componentDidMount` triggers\n        };\n      }\n\n      const platformProps = Platform.select({\n        web: {},\n        default: { collapsable: false },\n      });\n\n      const skipEntering = this.context?.current;\n      const nativeID =\n        skipEntering || !isFabric() ? undefined : `${this.reanimatedID}`;\n\n      const jestProps = IS_JEST\n        ? {\n            jestInlineStyle: this.props.style,\n            jestAnimatedStyle: this.jestAnimatedStyle,\n          }\n        : {};\n\n      return (\n        <Component\n          nativeID={nativeID}\n          {...filteredProps}\n          {...jestProps}\n          // Casting is used here, because ref can be null - in that case it cannot be assigned to HTMLElement.\n          // After spending some time trying to figure out what to do with this problem, we decided to leave it this way\n          ref={this._setComponentRef as (ref: Component) => void}\n          {...platformProps}\n        />\n      );\n    }\n  }\n\n  AnimatedComponent.displayName = `AnimatedComponent(${\n    Component.displayName || Component.name || 'Component'\n  })`;\n\n  return React.forwardRef<Component>((props, ref) => {\n    return (\n      <AnimatedComponent\n        {...props}\n        {...(ref === null ? null : { forwardedRef: ref })}\n      />\n    );\n  });\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}