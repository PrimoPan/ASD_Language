{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _NativeReanimated=_interopRequireDefault(require(\"./NativeReanimated\"));var _commonTypes=require(\"./commonTypes.js\");var _mutables=require(\"./mutables.js\");function initSensorData(sensorType){if(sensorType===_commonTypes.SensorType.ROTATION){return(0,_mutables.makeMutable)({qw:0,qx:0,qy:0,qz:0,yaw:0,pitch:0,roll:0,interfaceOrientation:0});}else{return(0,_mutables.makeMutable)({x:0,y:0,z:0,interfaceOrientation:0});}}var Sensor=exports.default=function(){function Sensor(sensorType,config){(0,_classCallCheck2.default)(this,Sensor);this.listenersNumber=0;this.sensorId=null;this.sensorType=sensorType;this.config=config;this.data=initSensorData(sensorType);}return(0,_createClass2.default)(Sensor,[{key:\"register\",value:function register(eventHandler){var config=this.config;var sensorType=this.sensorType;this.sensorId=_NativeReanimated.default.registerSensor(sensorType,config.interval==='auto'?-1:config.interval,config.iosReferenceFrame,eventHandler);return this.sensorId!==-1;}},{key:\"isRunning\",value:function isRunning(){return this.sensorId!==-1&&this.sensorId!==null;}},{key:\"isAvailable\",value:function isAvailable(){return this.sensorId!==-1;}},{key:\"getSharedValue\",value:function getSharedValue(){return this.data;}},{key:\"unregister\",value:function unregister(){if(this.sensorId!==null&&this.sensorId!==-1){_NativeReanimated.default.unregisterSensor(this.sensorId);}this.sensorId=null;}}]);}();","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_classCallCheck2","_createClass2","_NativeReanimated","_commonTypes","_mutables","initSensorData","sensorType","SensorType","ROTATION","makeMutable","qw","qx","qy","qz","yaw","pitch","roll","interfaceOrientation","x","y","z","Sensor","config","listenersNumber","sensorId","data","key","register","eventHandler","NativeReanimatedModule","registerSensor","interval","iosReferenceFrame","isRunning","isAvailable","getSharedValue","unregister","unregisterSensor"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/Sensor.ts"],"sourcesContent":["'use strict';\nimport NativeReanimatedModule from './NativeReanimated';\nimport type {\n  SensorConfig,\n  SharedValue,\n  Value3D,\n  ValueRotation,\n  ShareableRef,\n} from './commonTypes';\nimport { SensorType } from './commonTypes';\nimport { makeMutable } from './mutables';\n\nfunction initSensorData(\n  sensorType: SensorType\n): SharedValue<Value3D | ValueRotation> {\n  if (sensorType === SensorType.ROTATION) {\n    return makeMutable<Value3D | ValueRotation>({\n      qw: 0,\n      qx: 0,\n      qy: 0,\n      qz: 0,\n      yaw: 0,\n      pitch: 0,\n      roll: 0,\n      interfaceOrientation: 0,\n    });\n  } else {\n    return makeMutable<Value3D | ValueRotation>({\n      x: 0,\n      y: 0,\n      z: 0,\n      interfaceOrientation: 0,\n    });\n  }\n}\n\nexport default class Sensor {\n  public listenersNumber = 0;\n  private sensorId: number | null = null;\n  private sensorType: SensorType;\n  private data: SharedValue<Value3D | ValueRotation>;\n  private config: SensorConfig;\n\n  constructor(sensorType: SensorType, config: SensorConfig) {\n    this.sensorType = sensorType;\n    this.config = config;\n    this.data = initSensorData(sensorType);\n  }\n\n  register(\n    eventHandler: ShareableRef<(data: Value3D | ValueRotation) => void>\n  ) {\n    const config = this.config;\n    const sensorType = this.sensorType;\n    this.sensorId = NativeReanimatedModule.registerSensor(\n      sensorType,\n      config.interval === 'auto' ? -1 : config.interval,\n      config.iosReferenceFrame,\n      eventHandler\n    );\n    return this.sensorId !== -1;\n  }\n\n  isRunning() {\n    return this.sensorId !== -1 && this.sensorId !== null;\n  }\n\n  isAvailable() {\n    return this.sensorId !== -1;\n  }\n\n  getSharedValue() {\n    return this.data;\n  }\n\n  unregister() {\n    if (this.sensorId !== null && this.sensorId !== -1) {\n      NativeReanimatedModule.unregisterSensor(this.sensorId);\n    }\n    this.sensorId = null;\n  }\n}\n"],"mappings":"AAAA,YAAY,KAAAA,sBAAA,CAAAC,OAAA,iDAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA,eAAAC,KAAA,QAAAD,OAAA,CAAAE,OAAA,YAAAC,gBAAA,CAAAP,sBAAA,CAAAC,OAAA,+CAAAO,aAAA,CAAAR,sBAAA,CAAAC,OAAA,wCACZ,IAAAQ,iBAAA,CAAAT,sBAAA,CAAAC,OAAA,wBAQA,IAAAS,YAAA,CAAAT,OAAA,qBACA,IAAAU,SAAA,CAAAV,OAAA,kBAEA,QAAS,CAAAW,cAAcA,CACrBC,UAAsB,CACgB,CACtC,GAAIA,UAAU,GAAKC,uBAAU,CAACC,QAAQ,CAAE,CACtC,MAAO,GAAAC,qBAAW,EAA0B,CAC1CC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,EAAE,CAAE,CAAC,CACLC,GAAG,CAAE,CAAC,CACNC,KAAK,CAAE,CAAC,CACRC,IAAI,CAAE,CAAC,CACPC,oBAAoB,CAAE,CACxB,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,MAAO,GAAAR,qBAAW,EAA0B,CAC1CS,CAAC,CAAE,CAAC,CACJC,CAAC,CAAE,CAAC,CACJC,CAAC,CAAE,CAAC,CACJH,oBAAoB,CAAE,CACxB,CAAC,CAAC,CACJ,CACF,IAEqB,CAAAI,MAAM,CAAAxB,OAAA,CAAAE,OAAA,YAOzB,SAAAsB,OAAYf,UAAsB,CAAEgB,MAAoB,CAAE,IAAAtB,gBAAA,CAAAD,OAAA,OAAAsB,MAAA,OANnDE,eAAe,CAAG,CAAC,MAClBC,QAAQ,CAAkB,IAAI,CAMpC,IAAI,CAAClB,UAAU,CAAGA,UAAU,CAC5B,IAAI,CAACgB,MAAM,CAAGA,MAAM,CACpB,IAAI,CAACG,IAAI,CAAGpB,cAAc,CAACC,UAAU,CAAC,CACxC,UAAAL,aAAA,CAAAF,OAAA,EAAAsB,MAAA,GAAAK,GAAA,YAAA5B,KAAA,CAEA,SAAA6B,QAAQA,CACNC,YAAmE,CACnE,CACA,GAAM,CAAAN,MAAM,CAAG,IAAI,CAACA,MAAM,CAC1B,GAAM,CAAAhB,UAAU,CAAG,IAAI,CAACA,UAAU,CAClC,IAAI,CAACkB,QAAQ,CAAGK,yBAAsB,CAACC,cAAc,CACnDxB,UAAU,CACVgB,MAAM,CAACS,QAAQ,GAAK,MAAM,CAAG,CAAC,CAAC,CAAGT,MAAM,CAACS,QAAQ,CACjDT,MAAM,CAACU,iBAAiB,CACxBJ,YACF,CAAC,CACD,MAAO,KAAI,CAACJ,QAAQ,GAAK,CAAC,CAAC,CAC7B,IAAAE,GAAA,aAAA5B,KAAA,CAEA,SAAAmC,SAASA,CAAA,CAAG,CACV,MAAO,KAAI,CAACT,QAAQ,GAAK,CAAC,CAAC,EAAI,IAAI,CAACA,QAAQ,GAAK,IAAI,CACvD,IAAAE,GAAA,eAAA5B,KAAA,CAEA,SAAAoC,WAAWA,CAAA,CAAG,CACZ,MAAO,KAAI,CAACV,QAAQ,GAAK,CAAC,CAAC,CAC7B,IAAAE,GAAA,kBAAA5B,KAAA,CAEA,SAAAqC,cAAcA,CAAA,CAAG,CACf,MAAO,KAAI,CAACV,IAAI,CAClB,IAAAC,GAAA,cAAA5B,KAAA,CAEA,SAAAsC,UAAUA,CAAA,CAAG,CACX,GAAI,IAAI,CAACZ,QAAQ,GAAK,IAAI,EAAI,IAAI,CAACA,QAAQ,GAAK,CAAC,CAAC,CAAE,CAClDK,yBAAsB,CAACQ,gBAAgB,CAAC,IAAI,CAACb,QAAQ,CAAC,CACxD,CACA,IAAI,CAACA,QAAQ,CAAG,IAAI,CACtB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}