{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.withClamp=void 0;var _util=require(\"./util.js\");var _index=require(\"../logger/index.js\");var withClamp=exports.withClamp=function withClamp(config,_animationToClamp){'worklet';return(0,_util.defineAnimation)(_animationToClamp,function(){'worklet';var animationToClamp=typeof _animationToClamp==='function'?_animationToClamp():_animationToClamp;var strippedMin=config.min===undefined?undefined:(0,_util.recognizePrefixSuffix)(config.min).strippedValue;var strippedMax=config.max===undefined?undefined:(0,_util.recognizePrefixSuffix)(config.max).strippedValue;function clampOnFrame(animation,now){var finished=animationToClamp.onFrame(animationToClamp,now);if(animationToClamp.current===undefined){_index.logger.warn(\"Error inside 'withClamp' animation, the inner animation has invalid current value\");return true;}else{var _recognizePrefixSuffi=(0,_util.recognizePrefixSuffix)(animationToClamp.current),prefix=_recognizePrefixSuffi.prefix,strippedValue=_recognizePrefixSuffi.strippedValue,suffix=_recognizePrefixSuffi.suffix;var newValue;if(strippedMax!==undefined&&strippedMax<strippedValue){newValue=strippedMax;}else if(strippedMin!==undefined&&strippedMin>strippedValue){newValue=strippedMin;}else{newValue=strippedValue;}animation.current=typeof animationToClamp.current==='number'?newValue:`${prefix===undefined?'':prefix}${newValue}${suffix===undefined?'':suffix}`;}return finished;}function onStart(animation,value,now,previousAnimation){animation.current=value;animation.previousAnimation=animationToClamp;var animationBeforeClamped=previousAnimation==null?void 0:previousAnimation.previousAnimation;if(config.max!==undefined&&config.min!==undefined&&config.max<config.min){_index.logger.warn('Wrong config was provided to withClamp. Min value is bigger than max');}animationToClamp.onStart(animationToClamp,(animationBeforeClamped==null?void 0:animationBeforeClamped.current)||value,now,animationBeforeClamped);}var callback=function callback(finished){if(animationToClamp.callback){animationToClamp.callback(finished);}};return{isHigherOrder:true,onFrame:clampOnFrame,onStart:onStart,current:animationToClamp.current,callback:callback,previousAnimation:null,reduceMotion:(0,_util.getReduceMotionForAnimation)(config.reduceMotion)};});};","map":{"version":3,"names":["Object","defineProperty","exports","value","withClamp","_util","require","_index","config","_animationToClamp","defineAnimation","animationToClamp","strippedMin","min","undefined","recognizePrefixSuffix","strippedValue","strippedMax","max","clampOnFrame","animation","now","finished","onFrame","current","logger","warn","_recognizePrefixSuffi","prefix","suffix","newValue","onStart","previousAnimation","animationBeforeClamped","callback","isHigherOrder","reduceMotion","getReduceMotionForAnimation"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/animation/clamp.ts"],"sourcesContent":["'use strict';\nimport {\n  defineAnimation,\n  getReduceMotionForAnimation,\n  recognizePrefixSuffix,\n} from './util';\nimport type {\n  Animation,\n  Timestamp,\n  AnimatableValue,\n  AnimationObject,\n  ReduceMotion,\n} from '../commonTypes';\nimport type { ClampAnimation } from './commonTypes';\nimport { logger } from '../logger';\n\ntype withClampType = <T extends number | string>(\n  config: {\n    min?: T;\n    max?: T;\n  },\n  clampedAnimation: T\n) => T;\n\nexport const withClamp = function <T extends number | string>(\n  config: { min?: T; max?: T; reduceMotion?: ReduceMotion },\n  _animationToClamp: AnimationObject<T> | (() => AnimationObject<T>)\n): Animation<ClampAnimation> {\n  'worklet';\n  return defineAnimation<ClampAnimation, AnimationObject<T>>(\n    _animationToClamp,\n    (): ClampAnimation => {\n      'worklet';\n      const animationToClamp =\n        typeof _animationToClamp === 'function'\n          ? _animationToClamp()\n          : _animationToClamp;\n\n      const strippedMin =\n        config.min === undefined\n          ? undefined\n          : recognizePrefixSuffix(config.min).strippedValue;\n\n      const strippedMax =\n        config.max === undefined\n          ? undefined\n          : recognizePrefixSuffix(config.max).strippedValue;\n\n      function clampOnFrame(\n        animation: ClampAnimation,\n        now: Timestamp\n      ): boolean {\n        const finished = animationToClamp.onFrame(animationToClamp, now);\n\n        if (animationToClamp.current === undefined) {\n          logger.warn(\n            \"Error inside 'withClamp' animation, the inner animation has invalid current value\"\n          );\n          return true;\n        } else {\n          const { prefix, strippedValue, suffix } = recognizePrefixSuffix(\n            animationToClamp.current\n          );\n\n          let newValue;\n\n          if (strippedMax !== undefined && strippedMax < strippedValue) {\n            newValue = strippedMax;\n          } else if (strippedMin !== undefined && strippedMin > strippedValue) {\n            newValue = strippedMin;\n          } else {\n            newValue = strippedValue;\n          }\n\n          animation.current =\n            typeof animationToClamp.current === 'number'\n              ? newValue\n              : `${prefix === undefined ? '' : prefix}${newValue}${\n                  suffix === undefined ? '' : suffix\n                }`;\n        }\n\n        return finished;\n      }\n\n      function onStart(\n        animation: Animation<any>,\n        value: AnimatableValue,\n        now: Timestamp,\n        previousAnimation: Animation<any> | null\n      ): void {\n        animation.current = value;\n        animation.previousAnimation = animationToClamp;\n        const animationBeforeClamped = previousAnimation?.previousAnimation;\n        if (\n          config.max !== undefined &&\n          config.min !== undefined &&\n          config.max < config.min\n        ) {\n          logger.warn(\n            'Wrong config was provided to withClamp. Min value is bigger than max'\n          );\n        }\n\n        animationToClamp.onStart(\n          animationToClamp,\n          /**\n           * Provide the current value of the previous animation of the clamped\n           * animation so we can animate from the original \"un-truncated\" value\n           */\n          animationBeforeClamped?.current || value,\n          now,\n          animationBeforeClamped\n        );\n      }\n\n      const callback = (finished?: boolean): void => {\n        if (animationToClamp.callback) {\n          animationToClamp.callback(finished);\n        }\n      };\n\n      return {\n        isHigherOrder: true,\n        onFrame: clampOnFrame,\n        onStart,\n        current: animationToClamp.current!,\n        callback,\n        previousAnimation: null,\n        reduceMotion: getReduceMotionForAnimation(config.reduceMotion),\n      };\n    }\n  );\n} as withClampType;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}