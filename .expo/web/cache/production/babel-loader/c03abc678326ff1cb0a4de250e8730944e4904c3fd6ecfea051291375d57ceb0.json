{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.ReanimatedError=void 0;exports.registerReanimatedError=registerReanimatedError;exports.registerWorkletStackDetails=registerWorkletStackDetails;exports.reportFatalErrorOnJS=reportFatalErrorOnJS;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var ReanimatedErrorConstructor=exports.ReanimatedError=function ReanimatedError(message){'worklet';var prefix='[Reanimated]';var errorInstance=new Error(message?`${prefix} ${message}`:prefix);errorInstance.name='ReanimatedError';return errorInstance;};function registerReanimatedError(){'worklet';if(!_WORKLET){throw new Error('[Reanimated] registerReanimatedError() must be called on Worklet runtime');}global.ReanimatedError=ReanimatedErrorConstructor;}var _workletStackDetails=new Map();function registerWorkletStackDetails(hash,stackDetails){_workletStackDetails.set(hash,stackDetails);}function getBundleOffset(error){var _error$stack;var frame=(_error$stack=error.stack)==null||(_error$stack=_error$stack.split('\\n'))==null?void 0:_error$stack[0];if(frame){var parsedFrame=/@([^@]+):(\\d+):(\\d+)/.exec(frame);if(parsedFrame){var _parsedFrame=(0,_slicedToArray2.default)(parsedFrame,4),file=_parsedFrame[1],line=_parsedFrame[2],col=_parsedFrame[3];return[file,Number(line),Number(col)];}}return['unknown',0,0];}function processStack(stack){var workletStackEntries=stack.match(/worklet_(\\d+):(\\d+):(\\d+)/g);var result=stack;workletStackEntries==null||workletStackEntries.forEach(function(match){var _match$split$map=match.split(/:|_/).map(Number),_match$split$map2=(0,_slicedToArray2.default)(_match$split$map,4),hash=_match$split$map2[1],origLine=_match$split$map2[2],origCol=_match$split$map2[3];var errorDetails=_workletStackDetails.get(hash);if(!errorDetails){return;}var _errorDetails=(0,_slicedToArray2.default)(errorDetails,3),error=_errorDetails[0],lineOffset=_errorDetails[1],colOffset=_errorDetails[2];var _getBundleOffset=getBundleOffset(error),_getBundleOffset2=(0,_slicedToArray2.default)(_getBundleOffset,3),bundleFile=_getBundleOffset2[0],bundleLine=_getBundleOffset2[1],bundleCol=_getBundleOffset2[2];var line=origLine+bundleLine+lineOffset;var col=origCol+bundleCol+colOffset;result=result.replace(match,`${bundleFile}:${line}:${col}`);});return result;}function reportFatalErrorOnJS(_ref){var message=_ref.message,stack=_ref.stack;var error=new Error();error.message=message;error.stack=stack?processStack(stack):undefined;error.name='ReanimatedError';error.jsEngine='reanimated';global.ErrorUtils.reportFatalError(error);}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","ReanimatedError","registerReanimatedError","registerWorkletStackDetails","reportFatalErrorOnJS","_slicedToArray2","ReanimatedErrorConstructor","message","prefix","errorInstance","Error","name","_WORKLET","global","_workletStackDetails","Map","hash","stackDetails","set","getBundleOffset","error","_error$stack","frame","stack","split","parsedFrame","exec","_parsedFrame","default","file","line","col","Number","processStack","workletStackEntries","match","result","forEach","_match$split$map","map","_match$split$map2","origLine","origCol","errorDetails","get","_errorDetails","lineOffset","colOffset","_getBundleOffset","_getBundleOffset2","bundleFile","bundleLine","bundleCol","replace","_ref","undefined","jsEngine","ErrorUtils","reportFatalError"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/errors.ts"],"sourcesContent":["/* eslint-disable reanimated/use-reanimated-error */\n'use strict';\nimport type { WorkletStackDetails } from './commonTypes';\n\ntype ReanimatedError = Error & 'ReanimatedError'; // signed type\n\ninterface ReanimatedErrorConstructor extends Error {\n  new (message?: string): ReanimatedError;\n  (message?: string): ReanimatedError;\n  readonly prototype: ReanimatedError;\n}\n\nconst ReanimatedErrorConstructor: ReanimatedErrorConstructor =\n  function ReanimatedError(message?: string) {\n    'worklet';\n    const prefix = '[Reanimated]';\n    const errorInstance = new Error(message ? `${prefix} ${message}` : prefix);\n    errorInstance.name = 'ReanimatedError';\n    return errorInstance;\n  } as ReanimatedErrorConstructor;\n\nexport { ReanimatedErrorConstructor as ReanimatedError };\n\n/**\n * Registers `ReanimatedError` in global scope. Use it only for Worklet\n * runtimes.\n */\nexport function registerReanimatedError() {\n  'worklet';\n  if (!_WORKLET) {\n    throw new Error(\n      '[Reanimated] registerReanimatedError() must be called on Worklet runtime'\n    );\n  }\n  (global as Record<string, unknown>).ReanimatedError =\n    ReanimatedErrorConstructor;\n}\n\nconst _workletStackDetails = new Map<number, WorkletStackDetails>();\n\nexport function registerWorkletStackDetails(\n  hash: number,\n  stackDetails: WorkletStackDetails\n) {\n  _workletStackDetails.set(hash, stackDetails);\n}\n\nfunction getBundleOffset(error: Error): [string, number, number] {\n  const frame = error.stack?.split('\\n')?.[0];\n  if (frame) {\n    const parsedFrame = /@([^@]+):(\\d+):(\\d+)/.exec(frame);\n    if (parsedFrame) {\n      const [, file, line, col] = parsedFrame;\n      return [file, Number(line), Number(col)];\n    }\n  }\n  return ['unknown', 0, 0];\n}\n\nfunction processStack(stack: string): string {\n  const workletStackEntries = stack.match(/worklet_(\\d+):(\\d+):(\\d+)/g);\n  let result = stack;\n  workletStackEntries?.forEach((match) => {\n    const [, hash, origLine, origCol] = match.split(/:|_/).map(Number);\n    const errorDetails = _workletStackDetails.get(hash);\n    if (!errorDetails) {\n      return;\n    }\n    const [error, lineOffset, colOffset] = errorDetails;\n    const [bundleFile, bundleLine, bundleCol] = getBundleOffset(error);\n    const line = origLine + bundleLine + lineOffset;\n    const col = origCol + bundleCol + colOffset;\n\n    result = result.replace(match, `${bundleFile}:${line}:${col}`);\n  });\n  return result;\n}\n\nexport function reportFatalErrorOnJS({\n  message,\n  stack,\n}: {\n  message: string;\n  stack?: string;\n}) {\n  const error = new Error();\n  error.message = message;\n  error.stack = stack ? processStack(stack) : undefined;\n  error.name = 'ReanimatedError';\n  // @ts-ignore React Native's ErrorUtils implementation extends the Error type with jsEngine field\n  error.jsEngine = 'reanimated';\n  // @ts-ignore the reportFatalError method is an internal method of ErrorUtils not exposed in the type definitions\n  global.ErrorUtils.reportFatalError(error);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}