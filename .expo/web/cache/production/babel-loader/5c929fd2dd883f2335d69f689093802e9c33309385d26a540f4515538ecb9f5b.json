{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.useEvent=useEvent;var _react=require(\"react\");var _WorkletEventHandler=require(\"../WorkletEventHandler.js\");function useEvent(handler){var eventNames=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var rebuild=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var initRef=(0,_react.useRef)(null);if(initRef.current===null){var workletEventHandler=new _WorkletEventHandler.WorkletEventHandler(handler,eventNames);initRef.current={workletEventHandler:workletEventHandler};}else if(rebuild){var _workletEventHandler=initRef.current.workletEventHandler;_workletEventHandler.updateEventHandler(handler,eventNames);initRef.current={workletEventHandler:_workletEventHandler};}return initRef.current;}","map":{"version":3,"names":["Object","defineProperty","exports","value","useEvent","_react","require","_WorkletEventHandler","handler","eventNames","arguments","length","undefined","rebuild","initRef","useRef","current","workletEventHandler","WorkletEventHandler","updateEventHandler"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/hook/useEvent.ts"],"sourcesContent":["'use strict';\nimport { useRef } from 'react';\nimport { WorkletEventHandler } from '../WorkletEventHandler';\nimport type { IWorkletEventHandler, ReanimatedEvent } from './commonTypes';\n\n/** Worklet to provide as an argument to `useEvent` hook. */\nexport type EventHandler<\n  Event extends object,\n  Context extends Record<string, unknown> = never,\n> = (event: ReanimatedEvent<Event>, context?: Context) => void;\n\nexport type EventHandlerProcessed<\n  Event extends object,\n  Context extends Record<string, unknown> = never,\n> = (event: Event, context?: Context) => void;\n\nexport type EventHandlerInternal<Event extends object> = {\n  workletEventHandler: IWorkletEventHandler<Event>;\n};\n\n/**\n * Lets you run a function whenever a specified native event occurs.\n *\n * @param handler - A function that receives an event object with event data -\n *   {@link EventHandler}.\n * @param eventNames - An array of event names the `handler` callback will react\n *   to.\n * @param rebuild - Whether the event handler should be rebuilt. Defaults to\n *   `false`.\n * @returns A function that will be called when the event occurs -\n *   {@link EventHandlerProcessed}.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/useEvent\n */\n// @ts-expect-error This overload is required by our API.\n// We don't know which properites of a component that is made into\n// an AnimatedComponent are event handlers and we don't want to force the user to define it.\n// Therefore we disguise `useEvent` return type as a simple function and we handle\n// it being a React Ref in `createAnimatedComponent`.\nexport function useEvent<\n  Event extends object,\n  Context extends Record<string, unknown> = never,\n>(\n  handler: EventHandler<Event, Context>,\n  eventNames?: string[],\n  rebuild?: boolean\n): EventHandlerProcessed<Event, Context>;\n\nexport function useEvent<Event extends object, Context = never>(\n  handler: (event: ReanimatedEvent<Event>, context?: Context) => void,\n  eventNames: string[] = [],\n  rebuild = false\n): EventHandlerInternal<Event> {\n  const initRef = useRef<EventHandlerInternal<Event>>(null!);\n  if (initRef.current === null) {\n    const workletEventHandler = new WorkletEventHandler<Event>(\n      handler,\n      eventNames\n    );\n    initRef.current = { workletEventHandler };\n  } else if (rebuild) {\n    const workletEventHandler = initRef.current.workletEventHandler;\n    workletEventHandler.updateEventHandler(handler, eventNames);\n    initRef.current = { workletEventHandler };\n  }\n\n  return initRef.current;\n}\n"],"mappings":"AAAA,YAAY,CAAAA,MAAA,CAAAC,cAAA,CAAAC,OAAA,eAAAC,KAAA,QAAAD,OAAA,CAAAE,QAAA,CAAAA,QAAA,CACZ,IAAAC,MAAA,CAAAC,OAAA,UACA,IAAAC,oBAAA,CAAAD,OAAA,8BA6CO,QAAS,CAAAF,QAAQA,CACtBI,OAAmE,CAGtC,IAF7B,CAAAC,UAAoB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IACzB,CAAAG,OAAO,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CAEf,GAAM,CAAAI,OAAO,CAAG,GAAAC,aAAM,EAA8B,IAAK,CAAC,CAC1D,GAAID,OAAO,CAACE,OAAO,GAAK,IAAI,CAAE,CAC5B,GAAM,CAAAC,mBAAmB,CAAG,GAAI,CAAAC,wCAAmB,CACjDV,OAAO,CACPC,UACF,CAAC,CACDK,OAAO,CAACE,OAAO,CAAG,CAAEC,mBAAA,CAAAA,mBAAoB,CAAC,CAC3C,CAAC,IAAM,IAAIJ,OAAO,CAAE,CAClB,GAAM,CAAAI,oBAAmB,CAAGH,OAAO,CAACE,OAAO,CAACC,mBAAmB,CAC/DA,oBAAmB,CAACE,kBAAkB,CAACX,OAAO,CAAEC,UAAU,CAAC,CAC3DK,OAAO,CAACE,OAAO,CAAG,CAAEC,mBAAA,CAAAA,oBAAoB,CAAC,CAC3C,CAEA,MAAO,CAAAH,OAAO,CAACE,OAAO,CACxB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}