{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.addHTMLMutationObserver=addHTMLMutationObserver;exports.areDOMRectsEqual=areDOMRectsEqual;exports.configureWebLayoutAnimations=configureWebLayoutAnimations;exports.insertWebAnimation=insertWebAnimation;exports.scheduleAnimationCleanup=scheduleAnimationCleanup;var _PlatformChecker=require(\"../../PlatformChecker.js\");var _componentStyle=require(\"./componentStyle.js\");var _config=require(\"./config.js\");var _index=require(\"../../logger/index.js\");var _errors=require(\"../../errors.js\");var PREDEFINED_WEB_ANIMATIONS_ID='ReanimatedPredefinedWebAnimationsStyle';var CUSTOM_WEB_ANIMATIONS_ID='ReanimatedCustomWebAnimationsStyle';var animationNameToIndex=new Map();var animationNameList=[];var isObserverSet=false;function configureWebLayoutAnimations(){if(!(0,_PlatformChecker.isWindowAvailable)()||document.getElementById(PREDEFINED_WEB_ANIMATIONS_ID)!==null){return;}var predefinedAnimationsStyleTag=document.createElement('style');predefinedAnimationsStyleTag.id=PREDEFINED_WEB_ANIMATIONS_ID;predefinedAnimationsStyleTag.onload=function(){if(!predefinedAnimationsStyleTag.sheet){_index.logger.error('Failed to create layout animations stylesheet.');return;}for(var animationName in _config.Animations){predefinedAnimationsStyleTag.sheet.insertRule(_config.Animations[animationName].style);}};var customAnimationsStyleTag=document.createElement('style');customAnimationsStyleTag.id=CUSTOM_WEB_ANIMATIONS_ID;document.head.appendChild(predefinedAnimationsStyleTag);document.head.appendChild(customAnimationsStyleTag);}function insertWebAnimation(animationName,keyframe){if(!(0,_PlatformChecker.isWindowAvailable)()){return;}var styleTag=document.getElementById(CUSTOM_WEB_ANIMATIONS_ID);if(!styleTag.sheet){_index.logger.error('Failed to create layout animations stylesheet.');return;}styleTag.sheet.insertRule(keyframe,0);animationNameList.unshift(animationName);animationNameToIndex.set(animationName,0);for(var i=1;i<animationNameList.length;++i){var nextAnimationName=animationNameList[i];var nextAnimationIndex=animationNameToIndex.get(nextAnimationName);if(nextAnimationIndex===undefined){throw new _errors.ReanimatedError('Failed to obtain animation index.');}animationNameToIndex.set(animationNameList[i],nextAnimationIndex+1);}}function removeWebAnimation(animationName,animationRemoveCallback){var _styleTag$sheet;if(!(0,_PlatformChecker.isWindowAvailable)()){return;}var styleTag=document.getElementById(CUSTOM_WEB_ANIMATIONS_ID);var currentAnimationIndex=animationNameToIndex.get(animationName);if(currentAnimationIndex===undefined){throw new _errors.ReanimatedError('Failed to obtain animation index.');}animationRemoveCallback();(_styleTag$sheet=styleTag.sheet)==null||_styleTag$sheet.deleteRule(currentAnimationIndex);animationNameList.splice(currentAnimationIndex,1);animationNameToIndex.delete(animationName);for(var i=currentAnimationIndex;i<animationNameList.length;++i){var nextAnimationName=animationNameList[i];var nextAnimationIndex=animationNameToIndex.get(nextAnimationName);if(nextAnimationIndex===undefined){throw new _errors.ReanimatedError('Failed to obtain animation index.');}animationNameToIndex.set(animationNameList[i],nextAnimationIndex-1);}}var timeoutScale=1.25;var frameDurationMs=16;var minimumFrames=10;function scheduleAnimationCleanup(animationName,animationDuration,animationRemoveCallback){var timeoutValue=Math.max(animationDuration*timeoutScale*1000,animationDuration+frameDurationMs*minimumFrames);setTimeout(function(){return removeWebAnimation(animationName,animationRemoveCallback);},timeoutValue);}function reattachElementToAncestor(child,parent){var childSnapshot=_componentStyle.snapshots.get(child);if(!childSnapshot){_index.logger.error('Failed to obtain snapshot.');return;}child.removedAfterAnimation=true;parent.appendChild(child);(0,_componentStyle.setElementPosition)(child,childSnapshot);var originalOnAnimationEnd=child.onanimationend;child.onanimationend=function(event){parent.removeChild(child);originalOnAnimationEnd==null||originalOnAnimationEnd.call(this,event);};}function findDescendantWithExitingAnimation(node,root){if(!(node instanceof HTMLElement)){return;}if(node.reanimatedDummy&&node.removedAfterAnimation===undefined){reattachElementToAncestor(node,root);}var children=Array.from(node.children);for(var i=0;i<children.length;++i){findDescendantWithExitingAnimation(children[i],root);}}function checkIfScreenWasChanged(mutationTarget){var _mutationTarget$react;var reactFiberKey='__reactFiber';for(var key of Object.keys(mutationTarget)){if(key.startsWith('__reactFiber')){reactFiberKey=key;break;}}return((_mutationTarget$react=mutationTarget[reactFiberKey])==null||(_mutationTarget$react=_mutationTarget$react.child)==null||(_mutationTarget$react=_mutationTarget$react.memoizedProps)==null?void 0:_mutationTarget$react.navigation)!==undefined;}function addHTMLMutationObserver(){if(isObserverSet||!(0,_PlatformChecker.isWindowAvailable)()){return;}isObserverSet=true;var observer=new MutationObserver(function(mutationsList){var rootMutation=mutationsList[mutationsList.length-1];if(checkIfScreenWasChanged(rootMutation.target)){return;}for(var i=0;i<rootMutation.removedNodes.length;++i){findDescendantWithExitingAnimation(rootMutation.removedNodes[i],rootMutation.target);}});observer.observe(document.body,{childList:true,subtree:true});}function areDOMRectsEqual(r1,r2){return r1.x===r2.x&&r1.y===r2.y&&r1.width===r2.width&&r1.height===r2.height;}","map":{"version":3,"names":["Object","defineProperty","exports","value","addHTMLMutationObserver","areDOMRectsEqual","configureWebLayoutAnimations","insertWebAnimation","scheduleAnimationCleanup","_PlatformChecker","require","_componentStyle","_config","_index","_errors","PREDEFINED_WEB_ANIMATIONS_ID","CUSTOM_WEB_ANIMATIONS_ID","animationNameToIndex","Map","animationNameList","isObserverSet","isWindowAvailable","document","getElementById","predefinedAnimationsStyleTag","createElement","id","onload","sheet","logger","error","animationName","Animations","insertRule","style","customAnimationsStyleTag","head","appendChild","keyframe","styleTag","unshift","set","i","length","nextAnimationName","nextAnimationIndex","get","undefined","ReanimatedError","removeWebAnimation","animationRemoveCallback","_styleTag$sheet","currentAnimationIndex","deleteRule","splice","delete","timeoutScale","frameDurationMs","minimumFrames","animationDuration","timeoutValue","Math","max","setTimeout","reattachElementToAncestor","child","parent","childSnapshot","snapshots","removedAfterAnimation","setElementPosition","originalOnAnimationEnd","onanimationend","event","removeChild","call","findDescendantWithExitingAnimation","node","root","HTMLElement","reanimatedDummy","children","Array","from","checkIfScreenWasChanged","mutationTarget","_mutationTarget$react","reactFiberKey","key","keys","startsWith","memoizedProps","navigation","observer","MutationObserver","mutationsList","rootMutation","target","removedNodes","observe","body","childList","subtree","r1","r2","x","y","width","height"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/layoutReanimation/web/domUtils.ts"],"sourcesContent":["'use strict';\n\nimport type { ReanimatedHTMLElement } from '../../js-reanimated';\n\nimport { isWindowAvailable } from '../../PlatformChecker';\nimport { setElementPosition, snapshots } from './componentStyle';\nimport { Animations } from './config';\nimport type { AnimationNames } from './config';\nimport { logger } from '../../logger';\nimport { ReanimatedError } from '../../errors';\n\nconst PREDEFINED_WEB_ANIMATIONS_ID = 'ReanimatedPredefinedWebAnimationsStyle';\nconst CUSTOM_WEB_ANIMATIONS_ID = 'ReanimatedCustomWebAnimationsStyle';\n\n// Since we cannot remove keyframe from DOM by its name, we have to store its id\nconst animationNameToIndex = new Map<string, number>();\nconst animationNameList: string[] = [];\n\nlet isObserverSet = false;\n\n/**\n * Creates `HTMLStyleElement`, inserts it into DOM and then inserts CSS rules\n * into the stylesheet. If style element already exists, nothing happens.\n */\nexport function configureWebLayoutAnimations() {\n  if (\n    !isWindowAvailable() || // Without this check SSR crashes because document is undefined (NextExample on CI)\n    document.getElementById(PREDEFINED_WEB_ANIMATIONS_ID) !== null\n  ) {\n    return;\n  }\n\n  const predefinedAnimationsStyleTag = document.createElement('style');\n  predefinedAnimationsStyleTag.id = PREDEFINED_WEB_ANIMATIONS_ID;\n\n  predefinedAnimationsStyleTag.onload = () => {\n    if (!predefinedAnimationsStyleTag.sheet) {\n      logger.error('Failed to create layout animations stylesheet.');\n      return;\n    }\n\n    for (const animationName in Animations) {\n      predefinedAnimationsStyleTag.sheet.insertRule(\n        Animations[animationName as AnimationNames].style\n      );\n    }\n  };\n\n  const customAnimationsStyleTag = document.createElement('style');\n  customAnimationsStyleTag.id = CUSTOM_WEB_ANIMATIONS_ID;\n\n  document.head.appendChild(predefinedAnimationsStyleTag);\n  document.head.appendChild(customAnimationsStyleTag);\n}\n\nexport function insertWebAnimation(animationName: string, keyframe: string) {\n  // Without this check SSR crashes because document is undefined (NextExample on CI)\n  if (!isWindowAvailable()) {\n    return;\n  }\n\n  const styleTag = document.getElementById(\n    CUSTOM_WEB_ANIMATIONS_ID\n  ) as HTMLStyleElement;\n\n  if (!styleTag.sheet) {\n    logger.error('Failed to create layout animations stylesheet.');\n    return;\n  }\n\n  styleTag.sheet.insertRule(keyframe, 0);\n  animationNameList.unshift(animationName);\n  animationNameToIndex.set(animationName, 0);\n\n  for (let i = 1; i < animationNameList.length; ++i) {\n    const nextAnimationName = animationNameList[i];\n    const nextAnimationIndex = animationNameToIndex.get(nextAnimationName);\n\n    if (nextAnimationIndex === undefined) {\n      throw new ReanimatedError('Failed to obtain animation index.');\n    }\n\n    animationNameToIndex.set(animationNameList[i], nextAnimationIndex + 1);\n  }\n}\n\nfunction removeWebAnimation(\n  animationName: string,\n  animationRemoveCallback: () => void\n) {\n  // Without this check SSR crashes because document is undefined (NextExample on CI)\n  if (!isWindowAvailable()) {\n    return;\n  }\n\n  const styleTag = document.getElementById(\n    CUSTOM_WEB_ANIMATIONS_ID\n  ) as HTMLStyleElement;\n\n  const currentAnimationIndex = animationNameToIndex.get(animationName);\n\n  if (currentAnimationIndex === undefined) {\n    throw new ReanimatedError('Failed to obtain animation index.');\n  }\n\n  animationRemoveCallback();\n\n  styleTag.sheet?.deleteRule(currentAnimationIndex);\n\n  animationNameList.splice(currentAnimationIndex, 1);\n  animationNameToIndex.delete(animationName);\n\n  for (let i = currentAnimationIndex; i < animationNameList.length; ++i) {\n    const nextAnimationName = animationNameList[i];\n    const nextAnimationIndex = animationNameToIndex.get(nextAnimationName);\n\n    if (nextAnimationIndex === undefined) {\n      throw new ReanimatedError('Failed to obtain animation index.');\n    }\n\n    animationNameToIndex.set(animationNameList[i], nextAnimationIndex - 1);\n  }\n}\n\nconst timeoutScale = 1.25; // We use this value to enlarge timeout duration. It can prove useful if animation lags.\nconst frameDurationMs = 16; // Just an approximation.\nconst minimumFrames = 10;\n\nexport function scheduleAnimationCleanup(\n  animationName: string,\n  animationDuration: number,\n  animationRemoveCallback: () => void\n) {\n  // If duration is very short, we want to keep remove delay to at least 10 frames\n  // In our case it is exactly 160/1099 s, which is approximately 0.15s\n  const timeoutValue = Math.max(\n    animationDuration * timeoutScale * 1000,\n    animationDuration + frameDurationMs * minimumFrames\n  );\n\n  setTimeout(\n    () => removeWebAnimation(animationName, animationRemoveCallback),\n    timeoutValue\n  );\n}\n\nfunction reattachElementToAncestor(child: ReanimatedHTMLElement, parent: Node) {\n  const childSnapshot = snapshots.get(child);\n\n  if (!childSnapshot) {\n    logger.error('Failed to obtain snapshot.');\n    return;\n  }\n\n  // We use that so we don't end up in infinite loop\n  child.removedAfterAnimation = true;\n  parent.appendChild(child);\n\n  setElementPosition(child, childSnapshot);\n\n  const originalOnAnimationEnd = child.onanimationend;\n\n  child.onanimationend = function (event: AnimationEvent) {\n    parent.removeChild(child);\n\n    // Given that this function overrides onAnimationEnd, it won't be null\n    originalOnAnimationEnd?.call(this, event);\n  };\n}\n\nfunction findDescendantWithExitingAnimation(\n  node: ReanimatedHTMLElement,\n  root: Node\n) {\n  // Node could be something else than HTMLElement, for example TextNode (treated as plain text, not as HTML object),\n  // therefore it won't have children prop and calling Array.from(node.children) will cause error.\n  if (!(node instanceof HTMLElement)) {\n    return;\n  }\n\n  if (node.reanimatedDummy && node.removedAfterAnimation === undefined) {\n    reattachElementToAncestor(node, root);\n  }\n\n  const children = Array.from(node.children);\n\n  for (let i = 0; i < children.length; ++i) {\n    findDescendantWithExitingAnimation(\n      children[i] as ReanimatedHTMLElement,\n      root\n    );\n  }\n}\n\ntype FiberNodeKey = `__reactFiber${string}`;\n\ninterface FiberNode {\n  memoizedProps?: {\n    navigation?: unknown;\n  };\n\n  child?: FiberNode;\n}\n\ntype WithFiberNode = {\n  [key: FiberNodeKey]: FiberNode;\n};\n\ntype MaybeWithFiberNode = Partial<WithFiberNode>;\n\nfunction checkIfScreenWasChanged(\n  mutationTarget: ReanimatedHTMLElement & MaybeWithFiberNode\n) {\n  let reactFiberKey: FiberNodeKey = '__reactFiber';\n\n  for (const key of Object.keys(mutationTarget)) {\n    if (key.startsWith('__reactFiber')) {\n      reactFiberKey = key as FiberNodeKey;\n      break;\n    }\n  }\n\n  return (\n    mutationTarget[reactFiberKey]?.child?.memoizedProps?.navigation !==\n    undefined\n  );\n}\n\nexport function addHTMLMutationObserver() {\n  if (isObserverSet || !isWindowAvailable()) {\n    return;\n  }\n\n  isObserverSet = true;\n\n  const observer = new MutationObserver((mutationsList) => {\n    const rootMutation = mutationsList[mutationsList.length - 1];\n\n    if (\n      checkIfScreenWasChanged(\n        rootMutation.target as ReanimatedHTMLElement & MaybeWithFiberNode\n      )\n    ) {\n      return;\n    }\n\n    for (let i = 0; i < rootMutation.removedNodes.length; ++i) {\n      findDescendantWithExitingAnimation(\n        rootMutation.removedNodes[i] as ReanimatedHTMLElement,\n        rootMutation.target\n      );\n    }\n  });\n\n  observer.observe(document.body, { childList: true, subtree: true });\n}\n\nexport function areDOMRectsEqual(r1: DOMRect, r2: DOMRect) {\n  // There are 4 more fields, but checking these should suffice\n  return (\n    r1.x === r2.x &&\n    r1.y === r2.y &&\n    r1.width === r2.width &&\n    r1.height === r2.height\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}