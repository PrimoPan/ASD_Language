{"ast":null,"code":"'use strict';var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.createWorkletRuntime=createWorkletRuntime;exports.runOnRuntime=runOnRuntime;var _commonTypes=require(\"./commonTypes.js\");var _errors=require(\"./errors.js\");var _initializers=require(\"./initializers.js\");var _index=require(\"./logger/index.js\");var _NativeReanimated=_interopRequireDefault(require(\"./NativeReanimated\"));var _PlatformChecker=require(\"./PlatformChecker.js\");var _shareables=require(\"./shareables.js\");var SHOULD_BE_USE_WEB=(0,_PlatformChecker.shouldBeUseWeb)();function createWorkletRuntime(name,initializer){var config=__reanimatedLoggerConfig;return _NativeReanimated.default.createWorkletRuntime(name,(0,_shareables.makeShareableCloneRecursive)(function(){'worklet';(0,_errors.registerReanimatedError)();(0,_index.registerLoggerConfig)(config);(0,_initializers.setupCallGuard)();(0,_initializers.setupConsole)();initializer==null||initializer();}));}function runOnRuntime(workletRuntime,worklet){'worklet';if(__DEV__&&!SHOULD_BE_USE_WEB&&!(0,_commonTypes.isWorkletFunction)(worklet)){throw new _errors.ReanimatedError('The function passed to `runOnRuntime` is not a worklet.'+(_WORKLET?' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.':''));}if(_WORKLET){return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return global._scheduleOnRuntime(workletRuntime,(0,_shareables.makeShareableCloneOnUIRecursive)(function(){'worklet';worklet.apply(void 0,args);}));};}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _NativeReanimated.default.scheduleOnRuntime(workletRuntime,(0,_shareables.makeShareableCloneRecursive)(function(){'worklet';worklet.apply(void 0,args);}));};}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","createWorkletRuntime","runOnRuntime","_commonTypes","_errors","_initializers","_index","_NativeReanimated","_PlatformChecker","_shareables","SHOULD_BE_USE_WEB","shouldBeUseWeb","name","initializer","config","__reanimatedLoggerConfig","NativeReanimatedModule","makeShareableCloneRecursive","registerReanimatedError","registerLoggerConfig","setupCallGuard","setupConsole","workletRuntime","worklet","__DEV__","isWorkletFunction","ReanimatedError","_WORKLET","_len","arguments","length","args","Array","_key","global","_scheduleOnRuntime","makeShareableCloneOnUIRecursive","apply","_len2","_key2","scheduleOnRuntime"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/runtimes.ts"],"sourcesContent":["'use strict';\nimport { isWorkletFunction } from './commonTypes';\nimport type { WorkletFunction } from './commonTypes';\nimport { ReanimatedError, registerReanimatedError } from './errors';\nimport { setupCallGuard, setupConsole } from './initializers';\nimport { registerLoggerConfig } from './logger';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { shouldBeUseWeb } from './PlatformChecker';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\nexport type WorkletRuntime = {\n  __hostObjectWorkletRuntime: never;\n  readonly name: string;\n};\n\n/**\n * Lets you create a new JS runtime which can be used to run worklets possibly\n * on different threads than JS or UI thread.\n *\n * @param name - A name used to identify the runtime which will appear in\n *   devices list in Chrome DevTools.\n * @param initializer - An optional worklet that will be run synchronously on\n *   the same thread immediately after the runtime is created.\n * @returns WorkletRuntime which is a\n *   `jsi::HostObject<reanimated::WorkletRuntime>` - {@link WorkletRuntime}\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/createWorkletRuntime\n */\n// @ts-expect-error Check `runOnUI` overload.\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: () => void\n): WorkletRuntime;\n\nexport function createWorkletRuntime(\n  name: string,\n  initializer?: WorkletFunction<[], void>\n): WorkletRuntime {\n  // Assign to a different variable as __reanimatedLoggerConfig is not a captured\n  // identifier in the Worklet runtime.\n  const config = __reanimatedLoggerConfig;\n  return NativeReanimatedModule.createWorkletRuntime(\n    name,\n    makeShareableCloneRecursive(() => {\n      'worklet';\n      registerReanimatedError();\n      registerLoggerConfig(config);\n      setupCallGuard();\n      setupConsole();\n      initializer?.();\n    })\n  );\n}\n\n// @ts-expect-error Check `runOnUI` overload.\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/** Schedule a worklet to execute on the background queue. */\nexport function runOnRuntime<Args extends unknown[], ReturnValue>(\n  workletRuntime: WorkletRuntime,\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError(\n      'The function passed to `runOnRuntime` is not a worklet.' +\n        (_WORKLET\n          ? ' Please make sure that `processNestedWorklets` option in Reanimated Babel plugin is enabled.'\n          : '')\n    );\n  }\n  if (_WORKLET) {\n    return (...args) =>\n      global._scheduleOnRuntime(\n        workletRuntime,\n        makeShareableCloneOnUIRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n  }\n  return (...args) =>\n    NativeReanimatedModule.scheduleOnRuntime(\n      workletRuntime,\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n}\n"],"mappings":"AAAA,YAAY,KAAAA,sBAAA,CAAAC,OAAA,iDAAAC,MAAA,CAAAC,cAAA,CAAAC,OAAA,eAAAC,KAAA,QAAAD,OAAA,CAAAE,oBAAA,CAAAA,oBAAA,CAAAF,OAAA,CAAAG,YAAA,CAAAA,YAAA,CACZ,IAAAC,YAAA,CAAAP,OAAA,qBAEA,IAAAQ,OAAA,CAAAR,OAAA,gBACA,IAAAS,aAAA,CAAAT,OAAA,sBACA,IAAAU,MAAA,CAAAV,OAAA,sBACA,IAAAW,iBAAA,CAAAZ,sBAAA,CAAAC,OAAA,wBACA,IAAAY,gBAAA,CAAAZ,OAAA,yBACA,IAAAa,WAAA,CAAAb,OAAA,oBAKA,GAAM,CAAAc,iBAAiB,CAAG,GAAAC,+BAAc,EAAC,CAAC,CAyBnC,QAAS,CAAAV,oBAAoBA,CAClCW,IAAY,CACZC,WAAuC,CACvB,CAGhB,GAAM,CAAAC,MAAM,CAAGC,wBAAwB,CACvC,MAAO,CAAAC,yBAAsB,CAACf,oBAAoB,CAChDW,IAAI,CACJ,GAAAK,uCAA2B,EAAC,UAAM,CAChC,SAAS,CACT,GAAAC,+BAAuB,EAAC,CAAC,CACzB,GAAAC,2BAAoB,EAACL,MAAM,CAAC,CAC5B,GAAAM,4BAAc,EAAC,CAAC,CAChB,GAAAC,0BAAY,EAAC,CAAC,CACdR,WAAW,QAAXA,WAAW,CAAG,CAAC,CACjB,CAAC,CACH,CAAC,CACH,CAQO,QAAS,CAAAX,YAAYA,CAC1BoB,cAA8B,CAC9BC,OAA2C,CAClB,CACzB,SAAS,CACT,GAAIC,OAAO,EAAI,CAACd,iBAAiB,EAAI,CAAC,GAAAe,8BAAiB,EAACF,OAAO,CAAC,CAAE,CAChE,KAAM,IAAI,CAAAG,uBAAe,CACvB,yDAAyD,EACtDC,QAAQ,CACL,8FAA8F,CAC9F,EAAE,CACV,CAAC,CACH,CACA,GAAIA,QAAQ,CAAE,CACZ,MAAO,oBAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAIC,IAAI,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAJF,IAAI,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,SACb,CAAAC,MAAM,CAACC,kBAAkB,CACvBb,cAAc,CACd,GAAAc,2CAA+B,EAAC,UAAM,CACpC,SAAS,CACTb,OAAO,CAAAc,KAAA,QAAIN,IAAI,CAAC,CAClB,CAAC,CACH,CAAC,GACL,CACA,MAAO,oBAAAO,KAAA,CAAAT,SAAA,CAAAC,MAAA,CAAIC,IAAI,KAAAC,KAAA,CAAAM,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAJR,IAAI,CAAAQ,KAAA,EAAAV,SAAA,CAAAU,KAAA,SACb,CAAAvB,yBAAsB,CAACwB,iBAAiB,CACtClB,cAAc,CACd,GAAAL,uCAA2B,EAAC,UAAM,CAChC,SAAS,CACTM,OAAO,CAAAc,KAAA,QAAIN,IAAI,CAAC,CAClB,CAAC,CACH,CAAC,GACL","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}