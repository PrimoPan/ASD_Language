{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});exports.LogLevel=exports.DEFAULT_LOGGER_CONFIG=void 0;exports.logToLogBoxAndConsole=logToLogBoxAndConsole;exports.logger=void 0;exports.registerLoggerConfig=registerLoggerConfig;exports.replaceLoggerImplementation=replaceLoggerImplementation;exports.updateLoggerConfig=updateLoggerConfig;var _LogBox=require(\"./LogBox.js\");var DOCS_URL='https://docs.swmansion.com/react-native-reanimated/docs/debugging/logger-configuration';var DOCS_REFERENCE=`If you don't want to see this message, you can disable the \\`strict\\` mode. Refer to:\\n${DOCS_URL} for more details.`;var LogLevel=exports.LogLevel=function(LogLevel){LogLevel[LogLevel[\"warn\"]=1]=\"warn\";LogLevel[LogLevel[\"error\"]=2]=\"error\";return LogLevel;}({});function logToConsole(data){'worklet';switch(data.level){case'warn':console.warn(data.message.content);break;case'error':case'fatal':case'syntax':console.error(data.message.content);break;}}var DEFAULT_LOGGER_CONFIG=exports.DEFAULT_LOGGER_CONFIG={logFunction:logToConsole,level:LogLevel.warn,strict:true};function formatMessage(message){'worklet';return`[Reanimated] ${message}`;}function createLog(level,message){'worklet';var formattedMessage=formatMessage(message);return{level:level,message:{content:formattedMessage,substitutions:[]},category:formattedMessage,componentStack:[],componentStackType:null,stack:new Error().stack};}function logToLogBoxAndConsole(data){(0,_LogBox.addLogBoxLog)(data);logToConsole(data);}function registerLoggerConfig(config){'worklet';global.__reanimatedLoggerConfig=config;}function replaceLoggerImplementation(logFunction){'worklet';registerLoggerConfig(Object.assign({},__reanimatedLoggerConfig,{logFunction:logFunction}));}function updateLoggerConfig(options){'worklet';var _options$level,_options$strict;registerLoggerConfig(Object.assign({},__reanimatedLoggerConfig,{level:(_options$level=options==null?void 0:options.level)!=null?_options$level:DEFAULT_LOGGER_CONFIG.level,strict:(_options$strict=options==null?void 0:options.strict)!=null?_options$strict:DEFAULT_LOGGER_CONFIG.strict}));}function handleLog(level,message,options){'worklet';var config=__reanimatedLoggerConfig;if(options.strict&&!config.strict||LogLevel[level]<config.level){return;}if(options.strict){message+=`\\n\\n${DOCS_REFERENCE}`;}config.logFunction(createLog(level,message));}var logger=exports.logger={warn:function warn(message){'worklet';var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};handleLog('warn',message,options);},error:function error(message){'worklet';var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};handleLog('error',message,options);}};","map":{"version":3,"names":["Object","defineProperty","exports","value","LogLevel","DEFAULT_LOGGER_CONFIG","logToLogBoxAndConsole","logger","registerLoggerConfig","replaceLoggerImplementation","updateLoggerConfig","_LogBox","require","DOCS_URL","DOCS_REFERENCE","logToConsole","data","level","console","warn","message","content","error","logFunction","strict","formatMessage","createLog","formattedMessage","substitutions","category","componentStack","componentStackType","stack","Error","addLogBoxLog","config","global","__reanimatedLoggerConfig","assign","options","_options$level","_options$strict","handleLog","arguments","length","undefined"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/logger/logger.ts"],"sourcesContent":["'use strict';\nimport { addLogBoxLog } from './LogBox';\nimport type { LogData, LogBoxLogLevel } from './LogBox';\n\nconst DOCS_URL =\n  'https://docs.swmansion.com/react-native-reanimated/docs/debugging/logger-configuration';\nconst DOCS_REFERENCE = `If you don't want to see this message, you can disable the \\`strict\\` mode. Refer to:\\n${DOCS_URL} for more details.`;\n\ntype LogFunction = (data: LogData) => void;\n\nexport enum LogLevel {\n  warn = 1,\n  error = 2,\n}\n\nexport type LoggerConfig = {\n  level?: LogLevel;\n  strict?: boolean;\n};\n\nexport type LoggerConfigInternal = {\n  logFunction: LogFunction;\n} & Required<LoggerConfig>;\n\nfunction logToConsole(data: LogData) {\n  'worklet';\n  switch (data.level) {\n    case 'warn':\n      console.warn(data.message.content);\n      break;\n    case 'error':\n    case 'fatal':\n    case 'syntax':\n      console.error(data.message.content);\n      break;\n  }\n}\n\nexport const DEFAULT_LOGGER_CONFIG: LoggerConfigInternal = {\n  logFunction: logToConsole,\n  level: LogLevel.warn,\n  strict: true,\n};\n\nfunction formatMessage(message: string) {\n  'worklet';\n  return `[Reanimated] ${message}`;\n}\n\nfunction createLog(level: LogBoxLogLevel, message: string): LogData {\n  'worklet';\n  const formattedMessage = formatMessage(message);\n\n  return {\n    level,\n    message: {\n      content: formattedMessage,\n      substitutions: [],\n    },\n    category: formattedMessage,\n    componentStack: [],\n    componentStackType: null,\n    // eslint-disable-next-line reanimated/use-reanimated-error\n    stack: new Error().stack,\n  };\n}\n\n/**\n * Function that logs to LogBox and console. Used to replace the default console\n * logging with logging to LogBox on the UI thread when runOnJS is available.\n *\n * @param data - The details of the log.\n */\nexport function logToLogBoxAndConsole(data: LogData) {\n  addLogBoxLog(data);\n  logToConsole(data);\n}\n\n/**\n * Registers the logger configuration. use it only for Worklet runtimes.\n *\n * @param config - The config to register.\n */\nexport function registerLoggerConfig(config: LoggerConfigInternal) {\n  'worklet';\n  global.__reanimatedLoggerConfig = config;\n}\n\n/**\n * Replaces the default log function with a custom implementation.\n *\n * @param logFunction - The custom log function.\n */\nexport function replaceLoggerImplementation(logFunction: LogFunction) {\n  'worklet';\n  registerLoggerConfig({ ...__reanimatedLoggerConfig, logFunction });\n}\n\n/**\n * Updates logger configuration.\n *\n * @param options - The new logger configuration to apply.\n *\n *   - Level: The minimum log level to display.\n *   - Strict: Whether to log warnings and errors that are not strict. Defaults to\n *       false.\n */\nexport function updateLoggerConfig(options?: Partial<LoggerConfig>) {\n  'worklet';\n  registerLoggerConfig({\n    ...__reanimatedLoggerConfig,\n    // Don't reuse previous level and strict values from the global config\n    level: options?.level ?? DEFAULT_LOGGER_CONFIG.level,\n    strict: options?.strict ?? DEFAULT_LOGGER_CONFIG.strict,\n  });\n}\n\ntype LogOptions = {\n  strict?: boolean;\n};\n\nfunction handleLog(\n  level: Exclude<LogBoxLogLevel, 'syntax' | 'fatal'>,\n  message: string,\n  options: LogOptions\n) {\n  'worklet';\n  const config = __reanimatedLoggerConfig;\n  if (\n    // Don't log if the log is marked as strict-only and the config doesn't\n    // enable strict logging\n    (options.strict && !config.strict) ||\n    // Don't log if the log level is below the minimum configured level\n    LogLevel[level] < config.level\n  ) {\n    return;\n  }\n\n  if (options.strict) {\n    message += `\\n\\n${DOCS_REFERENCE}`;\n  }\n\n  config.logFunction(createLog(level, message));\n}\n\nexport const logger = {\n  warn(message: string, options: LogOptions = {}) {\n    'worklet';\n    handleLog('warn', message, options);\n  },\n  error(message: string, options: LogOptions = {}) {\n    'worklet';\n    handleLog('error', message, options);\n  },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}