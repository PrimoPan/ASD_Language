{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.filterConfig=filterConfig;exports.findNodeHandle=findNodeHandle;exports.scheduleFlushOperations=scheduleFlushOperations;var _reactNative=require(\"react-native\");var _handlersRegistry=require(\"./handlersRegistry\");var _utils=require(\"../utils\");var _RNGestureHandlerModule=_interopRequireDefault(require(\"../RNGestureHandlerModule\"));var _ghQueueMicrotask=require(\"../ghQueueMicrotask\");function isConfigParam(param,name){return param!==undefined&&(param!==Object(param)||!('__isNative'in param))&&name!=='onHandlerStateChange'&&name!=='onGestureEvent';}function filterConfig(props,validProps){var defaults=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var filteredConfig=Object.assign({},defaults);for(var key of validProps){var value=props[key];if(isConfigParam(value,key)){if(key==='simultaneousHandlers'||key==='waitFor'){value=transformIntoHandlerTags(props[key]);}else if(key==='hitSlop'&&typeof value!=='object'){value={top:value,left:value,bottom:value,right:value};}filteredConfig[key]=value;}}return filteredConfig;}function transformIntoHandlerTags(handlerIDs){handlerIDs=(0,_utils.toArray)(handlerIDs);if(_reactNative.Platform.OS==='web'){return handlerIDs.map(function(_ref){var current=_ref.current;return current;}).filter(function(handle){return handle;});}return handlerIDs.map(function(handlerID){var _handlerID$current;return _handlersRegistry.handlerIDToTag[handlerID]||((_handlerID$current=handlerID.current)===null||_handlerID$current===void 0?void 0:_handlerID$current.handlerTag)||-1;}).filter(function(handlerTag){return handlerTag>0;});}function findNodeHandle(node){if(_reactNative.Platform.OS==='web'){return node;}return(0,_reactNative.findNodeHandle)(node);}var flushOperationsScheduled=false;function scheduleFlushOperations(){if(!flushOperationsScheduled){flushOperationsScheduled=true;(0,_ghQueueMicrotask.ghQueueMicrotask)(function(){_RNGestureHandlerModule.default.flushOperations();flushOperationsScheduled=false;});}}","map":{"version":3,"names":["_reactNative","require","_handlersRegistry","_utils","_RNGestureHandlerModule","_interopRequireDefault","_ghQueueMicrotask","isConfigParam","param","name","undefined","Object","filterConfig","props","validProps","defaults","arguments","length","filteredConfig","assign","key","value","transformIntoHandlerTags","top","left","bottom","right","handlerIDs","toArray","Platform","OS","map","_ref","current","filter","handle","handlerID","_handlerID$current","handlerIDToTag","handlerTag","findNodeHandle","node","findNodeHandleRN","flushOperationsScheduled","scheduleFlushOperations","ghQueueMicrotask","RNGestureHandlerModule","flushOperations"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-gesture-handler/lib/module/handlers/utils.ts"],"sourcesContent":["import * as React from 'react';\nimport { Platform, findNodeHandle as findNodeHandleRN } from 'react-native';\nimport { handlerIDToTag } from './handlersRegistry';\nimport { toArray } from '../utils';\nimport RNGestureHandlerModule from '../RNGestureHandlerModule';\nimport { ghQueueMicrotask } from '../ghQueueMicrotask';\n\nfunction isConfigParam(param: unknown, name: string) {\n  // param !== Object(param) returns false if `param` is a function\n  // or an object and returns true if `param` is null\n  return (\n    param !== undefined &&\n    (param !== Object(param) ||\n      !('__isNative' in (param as Record<string, unknown>))) &&\n    name !== 'onHandlerStateChange' &&\n    name !== 'onGestureEvent'\n  );\n}\n\nexport function filterConfig(\n  props: Record<string, unknown>,\n  validProps: string[],\n  defaults: Record<string, unknown> = {}\n) {\n  const filteredConfig = { ...defaults };\n  for (const key of validProps) {\n    let value = props[key];\n    if (isConfigParam(value, key)) {\n      if (key === 'simultaneousHandlers' || key === 'waitFor') {\n        value = transformIntoHandlerTags(props[key]);\n      } else if (key === 'hitSlop' && typeof value !== 'object') {\n        value = { top: value, left: value, bottom: value, right: value };\n      }\n      filteredConfig[key] = value;\n    }\n  }\n  return filteredConfig;\n}\nfunction transformIntoHandlerTags(handlerIDs: any) {\n  handlerIDs = toArray(handlerIDs);\n\n  if (Platform.OS === 'web') {\n    return handlerIDs\n      .map(({ current }: { current: any }) => current)\n      .filter((handle: any) => handle);\n  }\n  // converts handler string IDs into their numeric tags\n  return handlerIDs\n    .map(\n      (handlerID: any) =>\n        handlerIDToTag[handlerID] || handlerID.current?.handlerTag || -1\n    )\n    .filter((handlerTag: number) => handlerTag > 0);\n}\n\nexport function findNodeHandle(\n  node: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number | React.Component<any, any> | React.ComponentClass<any> {\n  if (Platform.OS === 'web') {\n    return node;\n  }\n  return findNodeHandleRN(node);\n}\nlet flushOperationsScheduled = false;\n\nexport function scheduleFlushOperations() {\n  if (!flushOperationsScheduled) {\n    flushOperationsScheduled = true;\n    ghQueueMicrotask(() => {\n      RNGestureHandlerModule.flushOperations();\n\n      flushOperationsScheduled = false;\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}