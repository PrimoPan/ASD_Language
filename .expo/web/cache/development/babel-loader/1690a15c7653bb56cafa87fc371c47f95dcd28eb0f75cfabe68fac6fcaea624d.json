{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.callMicrotasks = void 0;\nexports.executeOnUIRuntimeSync = executeOnUIRuntimeSync;\nexports.runOnJS = runOnJS;\nexports.runOnUI = runOnUI;\nexports.runOnUIImmediately = runOnUIImmediately;\nexports.setupMicrotasks = setupMicrotasks;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _NativeReanimated = _interopRequireDefault(require(\"./NativeReanimated\"));\nvar _PlatformChecker = require(\"./PlatformChecker.js\");\nvar _shareables = require(\"./shareables.js\");\nvar _commonTypes = require(\"./commonTypes.js\");\nvar _errors = require(\"./errors.js\");\nvar IS_JEST = (0, _PlatformChecker.isJest)();\nvar SHOULD_BE_USE_WEB = (0, _PlatformChecker.shouldBeUseWeb)();\nvar _runOnUIQueue = [];\nfunction setupMicrotasks() {\n  'worklet';\n\n  var microtasksQueue = [];\n  var isExecutingMicrotasksQueue = false;\n  global.queueMicrotask = function (callback) {\n    microtasksQueue.push(callback);\n  };\n  global.__callMicrotasks = function () {\n    if (isExecutingMicrotasksQueue) {\n      return;\n    }\n    try {\n      isExecutingMicrotasksQueue = true;\n      for (var index = 0; index < microtasksQueue.length; index += 1) {\n        microtasksQueue[index]();\n      }\n      microtasksQueue = [];\n      global._maybeFlushUIUpdatesQueue();\n    } finally {\n      isExecutingMicrotasksQueue = false;\n    }\n  };\n}\nfunction callMicrotasksOnUIThread() {\n  'worklet';\n\n  global.__callMicrotasks();\n}\nvar callMicrotasks = exports.callMicrotasks = SHOULD_BE_USE_WEB ? function () {} : callMicrotasksOnUIThread;\nfunction runOnUI(worklet) {\n  'worklet';\n\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new _errors.ReanimatedError('`runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !(0, _commonTypes.isWorkletFunction)(worklet)) {\n    throw new _errors.ReanimatedError('`runOnUI` can only be used with worklets.');\n  }\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (IS_JEST) {\n      _NativeReanimated.default.scheduleOnUI((0, _shareables.makeShareableCloneRecursive)(function () {\n        'worklet';\n\n        worklet.apply(void 0, args);\n      }));\n      return;\n    }\n    if (__DEV__) {\n      (0, _shareables.makeShareableCloneRecursive)(worklet);\n      (0, _shareables.makeShareableCloneRecursive)(args);\n    }\n    _runOnUIQueue.push([worklet, args]);\n    if (_runOnUIQueue.length === 1) {\n      queueMicrotask(function () {\n        var queue = _runOnUIQueue;\n        _runOnUIQueue = [];\n        _NativeReanimated.default.scheduleOnUI((0, _shareables.makeShareableCloneRecursive)(function () {\n          'worklet';\n          queue.forEach(function (_ref) {\n            var _ref2 = (0, _slicedToArray2.default)(_ref, 2),\n              worklet = _ref2[0],\n              args = _ref2[1];\n            worklet.apply(void 0, (0, _toConsumableArray2.default)(args));\n          });\n          callMicrotasks();\n        }));\n      });\n    }\n  };\n}\nfunction executeOnUIRuntimeSync(worklet) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return _NativeReanimated.default.executeOnUIRuntimeSync((0, _shareables.makeShareableCloneRecursive)(function () {\n      'worklet';\n\n      var result = worklet.apply(void 0, args);\n      return (0, _shareables.makeShareableCloneOnUIRecursive)(result);\n    }));\n  };\n}\nfunction runOnUIImmediately(worklet) {\n  'worklet';\n\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new _errors.ReanimatedError('`runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !(0, _commonTypes.isWorkletFunction)(worklet)) {\n    throw new _errors.ReanimatedError('`runOnUIImmediately` can only be used with worklets.');\n  }\n  return function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    _NativeReanimated.default.scheduleOnUI((0, _shareables.makeShareableCloneRecursive)(function () {\n      'worklet';\n\n      worklet.apply(void 0, args);\n    }));\n  };\n}\nfunction runWorkletOnJS(worklet) {\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n  worklet.apply(void 0, args);\n}\nfunction runOnJS(fun) {\n  'worklet';\n\n  if (SHOULD_BE_USE_WEB || !_WORKLET) {\n    return function () {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n      return queueMicrotask(args.length ? function () {\n        return fun.apply(void 0, args);\n      } : fun);\n    };\n  }\n  if ((0, _commonTypes.isWorkletFunction)(fun)) {\n    return function () {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n      return runOnJS(runWorkletOnJS).apply(void 0, [fun].concat(args));\n    };\n  }\n  if (fun.__remoteFunction) {\n    fun = fun.__remoteFunction;\n  }\n  var scheduleOnJS = typeof fun === 'function' ? global._scheduleHostFunctionOnJS : global._scheduleRemoteFunctionOnJS;\n  return function () {\n    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n      args[_key7] = arguments[_key7];\n    }\n    scheduleOnJS(fun, args.length > 0 ? (0, _shareables.makeShareableCloneOnUIRecursive)(args) : undefined);\n  };\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","callMicrotasks","executeOnUIRuntimeSync","runOnJS","runOnUI","runOnUIImmediately","setupMicrotasks","_toConsumableArray2","_slicedToArray2","_NativeReanimated","_PlatformChecker","_shareables","_commonTypes","_errors","IS_JEST","isJest","SHOULD_BE_USE_WEB","shouldBeUseWeb","_runOnUIQueue","microtasksQueue","isExecutingMicrotasksQueue","global","queueMicrotask","callback","push","__callMicrotasks","index","length","_maybeFlushUIUpdatesQueue","callMicrotasksOnUIThread","worklet","__DEV__","_WORKLET","ReanimatedError","isWorkletFunction","_len","arguments","args","Array","_key","NativeReanimatedModule","scheduleOnUI","makeShareableCloneRecursive","apply","queue","forEach","_ref","_ref2","default","_len2","_key2","result","makeShareableCloneOnUIRecursive","_len3","_key3","runWorkletOnJS","_len4","_key4","fun","_len5","_key5","_len6","_key6","concat","__remoteFunction","scheduleOnJS","_scheduleHostFunctionOnJS","_scheduleRemoteFunctionOnJS","_len7","_key7","undefined"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/node_modules/react-native-reanimated/src/threads.ts"],"sourcesContent":["'use strict';\nimport NativeReanimatedModule from './NativeReanimated';\nimport { isJest, shouldBeUseWeb } from './PlatformChecker';\nimport type { WorkletFunction } from './commonTypes';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\nimport { isWorkletFunction } from './commonTypes';\nimport { ReanimatedError } from './errors';\n\nconst IS_JEST = isJest();\nconst SHOULD_BE_USE_WEB = shouldBeUseWeb();\n\n/** An array of [worklet, args] pairs. */\nlet _runOnUIQueue: Array<[WorkletFunction<unknown[], unknown>, unknown[]]> = [];\n\nexport function setupMicrotasks() {\n  'worklet';\n\n  let microtasksQueue: Array<() => void> = [];\n  let isExecutingMicrotasksQueue = false;\n  global.queueMicrotask = (callback: () => void) => {\n    microtasksQueue.push(callback);\n  };\n\n  global.__callMicrotasks = () => {\n    if (isExecutingMicrotasksQueue) {\n      return;\n    }\n    try {\n      isExecutingMicrotasksQueue = true;\n      for (let index = 0; index < microtasksQueue.length; index += 1) {\n        // we use classic 'for' loop because the size of the currentTasks array may change while executing some of the callbacks due to queueMicrotask calls\n        microtasksQueue[index]();\n      }\n      microtasksQueue = [];\n      global._maybeFlushUIUpdatesQueue();\n    } finally {\n      isExecutingMicrotasksQueue = false;\n    }\n  };\n}\n\nfunction callMicrotasksOnUIThread() {\n  'worklet';\n  global.__callMicrotasks();\n}\n\nexport const callMicrotasks = SHOULD_BE_USE_WEB\n  ? () => {\n      // on web flushing is a noop as immediates are handled by the browser\n    }\n  : callMicrotasksOnUIThread;\n\n/**\n * Lets you asynchronously run\n * [workletized](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#to-workletize)\n * functions on the [UI\n * thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI).\n *\n * This method does not schedule the work immediately but instead waits for\n * other worklets to be scheduled within the same JS loop. It uses\n * queueMicrotask to schedule all the worklets at once making sure they will run\n * within the same frame boundaries on the UI thread.\n *\n * @param fun - A reference to a function you want to execute on the [UI\n *   thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI)\n *   from the [JavaScript\n *   thread](https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI).\n * @returns A function that accepts arguments for the function passed as the\n *   first argument.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnUI\n */\n// @ts-expect-error This overload is correct since it's what user sees in his code\n// before it's transformed by Reanimated Babel plugin.\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): (...args: Args) => void;\n\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new ReanimatedError(\n      '`runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError('`runOnUI` can only be used with worklets.');\n  }\n  return (...args) => {\n    if (IS_JEST) {\n      // Mocking time in Jest is tricky as both requestAnimationFrame and queueMicrotask\n      // callbacks run on the same queue and can be interleaved. There is no way\n      // to flush particular queue in Jest and the only control over mocked timers\n      // is by using jest.advanceTimersByTime() method which advances all types\n      // of timers including immediate and animation callbacks. Ideally we'd like\n      // to have some way here to schedule work along with React updates, but\n      // that's not possible, and hence in Jest environment instead of using scheduling\n      // mechanism we just schedule the work ommiting the queue. This is ok for the\n      // uses that we currently have but may not be ok for future tests that we write.\n      NativeReanimatedModule.scheduleOnUI(\n        makeShareableCloneRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n      return;\n    }\n    if (__DEV__) {\n      // in DEV mode we call shareable conversion here because in case the object\n      // can't be converted, we will get a meaningful stack-trace as opposed to the\n      // situation when conversion is only done via microtask queue. This does not\n      // make the app particularily less efficient as converted objects are cached\n      // and for a given worklet the conversion only happens once.\n      makeShareableCloneRecursive(worklet);\n      makeShareableCloneRecursive(args);\n    }\n    _runOnUIQueue.push([worklet as WorkletFunction, args]);\n    if (_runOnUIQueue.length === 1) {\n      queueMicrotask(() => {\n        const queue = _runOnUIQueue;\n        _runOnUIQueue = [];\n        NativeReanimatedModule.scheduleOnUI(\n          makeShareableCloneRecursive(() => {\n            'worklet';\n            // eslint-disable-next-line @typescript-eslint/no-shadow\n            queue.forEach(([worklet, args]) => {\n              worklet(...args);\n            });\n            callMicrotasks();\n          })\n        );\n      });\n    }\n  };\n}\n\n// @ts-expect-error Check `executeOnUIRuntimeSync` overload above.\nexport function executeOnUIRuntimeSync<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): (...args: Args) => ReturnValue;\n\nexport function executeOnUIRuntimeSync<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => ReturnValue {\n  return (...args) => {\n    return NativeReanimatedModule.executeOnUIRuntimeSync(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        const result = worklet(...args);\n        return makeShareableCloneOnUIRecursive(result);\n      })\n    );\n  };\n}\n\n// @ts-expect-error Check `runOnUI` overload above.\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/** Schedule a worklet to execute on the UI runtime skipping batching mechanism. */\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {\n    throw new ReanimatedError(\n      '`runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && !SHOULD_BE_USE_WEB && !isWorkletFunction(worklet)) {\n    throw new ReanimatedError(\n      '`runOnUIImmediately` can only be used with worklets.'\n    );\n  }\n  return (...args) => {\n    NativeReanimatedModule.scheduleOnUI(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n  };\n}\n\ntype ReleaseRemoteFunction<Args extends unknown[], ReturnValue> = {\n  (...args: Args): ReturnValue;\n};\n\ntype DevRemoteFunction<Args extends unknown[], ReturnValue> = {\n  __remoteFunction: (...args: Args) => ReturnValue;\n};\n\ntype RemoteFunction<Args extends unknown[], ReturnValue> =\n  | ReleaseRemoteFunction<Args, ReturnValue>\n  | DevRemoteFunction<Args, ReturnValue>;\n\nfunction runWorkletOnJS<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>,\n  ...args: Args\n): void {\n  // remote function that calls a worklet synchronously on the JS runtime\n  worklet(...args);\n}\n\n/**\n * Lets you asynchronously run\n * non-[workletized](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#to-workletize)\n * functions that couldn't otherwise run on the [UI\n * thread](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/glossary#ui-thread).\n * This applies to most external libraries as they don't have their functions\n * marked with \"worklet\"; directive.\n *\n * @param fun - A reference to a function you want to execute on the JavaScript\n *   thread from the UI thread.\n * @returns A function that accepts arguments for the function passed as the\n *   first argument.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/threading/runOnJS\n */\nexport function runOnJS<Args extends unknown[], ReturnValue>(\n  fun:\n    | ((...args: Args) => ReturnValue)\n    | RemoteFunction<Args, ReturnValue>\n    | WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  type FunDevRemote = Extract<typeof fun, DevRemoteFunction<Args, ReturnValue>>;\n  if (SHOULD_BE_USE_WEB || !_WORKLET) {\n    // if we are already on the JS thread, we just schedule the worklet on the JS queue\n    return (...args) =>\n      queueMicrotask(\n        args.length\n          ? () => (fun as (...args: Args) => ReturnValue)(...args)\n          : (fun as () => ReturnValue)\n      );\n  }\n  if (isWorkletFunction<Args, ReturnValue>(fun)) {\n    // If `fun` is a worklet, we schedule a call of a remote function `runWorkletOnJS`\n    // and pass the worklet as a first argument followed by original arguments.\n\n    return (...args) =>\n      runOnJS(runWorkletOnJS<Args, ReturnValue>)(\n        fun as WorkletFunction<Args, ReturnValue>,\n        ...args\n      );\n  }\n  if ((fun as FunDevRemote).__remoteFunction) {\n    // In development mode the function provided as `fun` throws an error message\n    // such that when someone accidentally calls it directly on the UI runtime, they\n    // see that they should use `runOnJS` instead. To facilitate that we put the\n    // reference to the original remote function in the `__remoteFunction` property.\n    fun = (fun as FunDevRemote).__remoteFunction;\n  }\n\n  const scheduleOnJS =\n    typeof fun === 'function'\n      ? global._scheduleHostFunctionOnJS\n      : global._scheduleRemoteFunctionOnJS;\n\n  return (...args) => {\n    scheduleOnJS(\n      fun as\n        | ((...args: Args) => ReturnValue)\n        | WorkletFunction<Args, ReturnValue>,\n      args.length > 0\n        ? // TODO TYPESCRIPT this cast is terrible but will be fixed\n          (makeShareableCloneOnUIRecursive(args) as unknown as unknown[])\n        : undefined\n    );\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}