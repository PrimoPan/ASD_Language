{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _axios = _interopRequireDefault(require(\"axios\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _this = this,\n  _jsxFileName = \"/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/SourceCode/Components/ImageGenerator/index.jsx\";\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nvar ImageGenerator = function ImageGenerator() {\n  var _useState = (0, _react.useState)(''),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    description = _useState2[0],\n    setDescription = _useState2[1];\n  var _useState3 = (0, _react.useState)(''),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    imageUrl = _useState4[0],\n    setImageUrl = _useState4[1];\n  var _useState5 = (0, _react.useState)(false),\n    _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var handleGenerateImage = function () {\n    var _ref = (0, _asyncToGenerator2.default)(function* () {\n      if (!description.trim()) {\n        _reactNative.Alert.alert('错误', '请输入图片描述！');\n        return;\n      }\n      setLoading(true);\n      try {\n        var response = yield _axios.default.post('http://47.242.78.104:6088/i/pic', {\n          uid: 'a81s',\n          picreq: description\n        }, {\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        var data = response.data.data;\n        setImageUrl(data);\n      } catch (error) {\n        console.error('请求失败:', error);\n        _reactNative.Alert.alert('错误', '生成图片失败，请重试！');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleGenerateImage() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return (0, _jsxRuntime.jsxs)(_reactNative.ScrollView, {\n    contentContainerStyle: styles.container,\n    children: [(0, _jsxRuntime.jsx)(_reactNative.TextInput, {\n      style: styles.input,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u56FE\\u7247\\u63CF\\u8FF0\",\n      value: description,\n      onChangeText: setDescription,\n      editable: !loading\n    }), (0, _jsxRuntime.jsx)(_reactNative.Button, {\n      title: loading ? '生成中...' : '生成图片',\n      onPress: handleGenerateImage,\n      disabled: loading\n    }), imageUrl ? (0, _jsxRuntime.jsx)(_reactNative.Image, {\n      source: {\n        uri: imageUrl\n      },\n      style: styles.image,\n      resizeMode: \"contain\"\n    }) : null]\n  });\n};\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    flexGrow: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 16,\n    backgroundColor: '#f5f5f5'\n  },\n  input: {\n    width: '100%',\n    padding: 12,\n    marginBottom: 20,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 8,\n    backgroundColor: '#fff'\n  },\n  image: {\n    width: 300,\n    height: 300,\n    marginTop: 20,\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\nvar _default = exports.default = ImageGenerator;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_axios","_interopRequireDefault","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ImageGenerator","_useState","useState","_useState2","_slicedToArray2","description","setDescription","_useState3","_useState4","imageUrl","setImageUrl","_useState5","_useState6","loading","setLoading","handleGenerateImage","_ref","_asyncToGenerator2","trim","Alert","alert","response","axios","post","uid","picreq","headers","data","error","console","apply","arguments","jsxs","ScrollView","contentContainerStyle","styles","container","children","jsx","TextInput","style","input","placeholder","value","onChangeText","editable","Button","title","onPress","disabled","Image","source","uri","image","resizeMode","StyleSheet","create","flexGrow","justifyContent","alignItems","padding","backgroundColor","width","marginBottom","borderWidth","borderColor","borderRadius","height","marginTop","_default","exports"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/SourceCode/Components/ImageGenerator/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { View, TextInput, Button, StyleSheet, Image, Alert, ScrollView } from 'react-native';\nimport axios from 'axios';\n\nconst ImageGenerator = () => {\n    const [description, setDescription] = useState(''); // 用户输入的图片描述\n    const [imageUrl, setImageUrl] = useState(''); // 返回的图片 URL\n    const [loading, setLoading] = useState(false); // 请求状态\n\n    const handleGenerateImage = async () => {\n        if (!description.trim()) {\n            Alert.alert('错误', '请输入图片描述！');\n            return;\n        }\n\n        setLoading(true);\n        try {\n            const response = await axios.post(\n                'http://47.242.78.104:6088/i/pic', // 文生图接口地址\n                {\n                    uid: 'a81s', // 替换为后端提供的用户标识\n                    picreq: description, // 用户输入的描述\n                },\n                {\n                    headers: {\n                        'Content-Type': 'application/json', // 设置请求头\n                    },\n                }\n            );\n\n            const { data } = response.data; // 获取返回的图片 URL\n            setImageUrl(data); // 设置图片 URL\n        } catch (error) {\n            console.error('请求失败:', error);\n            Alert.alert('错误', '生成图片失败，请重试！');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <ScrollView contentContainerStyle={styles.container}>\n            <TextInput\n                style={styles.input}\n                placeholder=\"请输入图片描述\"\n                value={description}\n                onChangeText={setDescription}\n                editable={!loading} // 禁用输入框防止重复提交\n            />\n            <Button title={loading ? '生成中...' : '生成图片'} onPress={handleGenerateImage} disabled={loading} />\n            {imageUrl ? (\n                <Image\n                    source={{ uri: imageUrl }}\n                    style={styles.image}\n                    resizeMode=\"contain\"\n                />\n            ) : null}\n        </ScrollView>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flexGrow: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: 16,\n        backgroundColor: '#f5f5f5',\n    },\n    input: {\n        width: '100%',\n        padding: 12,\n        marginBottom: 20,\n        borderWidth: 1,\n        borderColor: '#ccc',\n        borderRadius: 8,\n        backgroundColor: '#fff',\n    },\n    image: {\n        width: 300,\n        height: 300,\n        marginTop: 20,\n        borderWidth: 1,\n        borderColor: '#ccc',\n    },\n});\n\nexport default ImageGenerator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}