{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar _zustand = require(\"zustand\");\nvar useStore = (0, _zustand.create)(function (set, get) {\n  return {\n    username: '',\n    setUsername: function setUsername(payload) {\n      return set({\n        username: payload\n      });\n    },\n    setUsernameAsync: function () {\n      var _setUsernameAsync = (0, _asyncToGenerator2.default)(function* (payload) {\n        yield new Promise(function (resolve) {\n          return setTimeout(resolve, 1000);\n        });\n        set({\n          username: payload\n        });\n      });\n      function setUsernameAsync(_x) {\n        return _setUsernameAsync.apply(this, arguments);\n      }\n      return setUsernameAsync;\n    }(),\n    currentChildren: {},\n    setCurrentChildren: function setCurrentChildren(data) {\n      var _ref, _data$selectedInitial, _get$learningGoals;\n      var oldData = get().currentChildren;\n      if (JSON.stringify(oldData) === JSON.stringify(data)) return;\n      set({\n        currentChildren: Object.assign({}, data, {\n          selectedInitials: (_ref = (_data$selectedInitial = data.selectedInitials) != null ? _data$selectedInitial : (_get$learningGoals = get().learningGoals) == null || (_get$learningGoals = _get$learningGoals.构音) == null ? void 0 : _get$learningGoals.split(', ')) != null ? _ref : []\n        })\n      });\n    },\n    learningGoals: null,\n    setLearningGoals: function setLearningGoals(data) {\n      var _ref2, _data$构音, _get$currentChildren;\n      var oldData = get().learningGoals;\n      if (JSON.stringify(oldData) === JSON.stringify(data)) return;\n      set({\n        learningGoals: Object.assign({}, data, {\n          构音: (_ref2 = (_data$构音 = data.构音) != null ? _data$构音 : (_get$currentChildren = get().currentChildren) == null || (_get$currentChildren = _get$currentChildren.selectedInitials) == null ? void 0 : _get$currentChildren.join(', ')) != null ? _ref2 : '无'\n        })\n      });\n    }\n  };\n});\nvar _default = exports.default = useStore;","map":{"version":3,"names":["_zustand","require","useStore","create","set","get","username","setUsername","payload","setUsernameAsync","_setUsernameAsync","_asyncToGenerator2","default","Promise","resolve","setTimeout","_x","apply","arguments","currentChildren","setCurrentChildren","data","_ref","_data$selectedInitial","_get$learningGoals","oldData","JSON","stringify","Object","assign","selectedInitials","learningGoals","构音","split","setLearningGoals","_ref2","_data$构音","_get$currentChildren","join","_default","exports"],"sources":["/Users/primopan/WebstormProjects/AsdLanguauge/AsdLanguage/SourceCode/store/store.jsx"],"sourcesContent":["import { create } from 'zustand';\n\nconst useStore = create((set, get) => ({\n    // ============== 原有 username 相关 ==============\n    username: '',\n    setUsername: (payload) => set({ username: payload }),\n    setUsernameAsync: async (payload) => {\n        await new Promise((resolve) => setTimeout(resolve, 1000));\n        set({ username: payload });\n    },\n\n    // ============== currentChildren 相关 ==============\n    currentChildren: {},\n    setCurrentChildren: (data) => {\n        const oldData = get().currentChildren;\n        if (JSON.stringify(oldData) === JSON.stringify(data)) return;\n        set({\n            currentChildren: {\n                ...data,\n                selectedInitials: data.selectedInitials ?? get().learningGoals?.构音?.split(', ') ?? [],\n            },\n        });\n    },\n\n    // ============== learningGoals 相关 ==============\n    /*\n        历史遗留问题，教学目标中的构音需要和currentChildren里的selectedInitials相统一\n     */\n    learningGoals: null,\n    setLearningGoals: (data) => {\n        const oldData = get().learningGoals;\n        if (JSON.stringify(oldData) === JSON.stringify(data)) return;\n        set({\n            learningGoals: {\n                ...data,\n                构音: data.构音 ?? get().currentChildren?.selectedInitials?.join(', ') ?? '无',\n            },\n        });\n    },\n}));\n\nexport default useStore;\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAEA,IAAMC,QAAQ,GAAG,IAAAC,eAAM,EAAC,UAACC,GAAG,EAAEC,GAAG;EAAA,OAAM;IAEnCC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,SAAbA,WAAWA,CAAGC,OAAO;MAAA,OAAKJ,GAAG,CAAC;QAAEE,QAAQ,EAAEE;MAAQ,CAAC,CAAC;IAAA;IACpDC,gBAAgB;MAAA,IAAAC,iBAAA,OAAAC,kBAAA,CAAAC,OAAA,EAAE,WAAOJ,OAAO,EAAK;QACjC,MAAM,IAAIK,OAAO,CAAC,UAACC,OAAO;UAAA,OAAKC,UAAU,CAACD,OAAO,EAAE,IAAI,CAAC;QAAA,EAAC;QACzDV,GAAG,CAAC;UAAEE,QAAQ,EAAEE;QAAQ,CAAC,CAAC;MAC9B,CAAC;MAAA,SAHDC,gBAAgBA,CAAAO,EAAA;QAAA,OAAAN,iBAAA,CAAAO,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAhBT,gBAAgB;IAAA,GAGf;IAGDU,eAAe,EAAE,CAAC,CAAC;IACnBC,kBAAkB,EAAE,SAApBA,kBAAkBA,CAAGC,IAAI,EAAK;MAAA,IAAAC,IAAA,EAAAC,qBAAA,EAAAC,kBAAA;MAC1B,IAAMC,OAAO,GAAGpB,GAAG,CAAC,CAAC,CAACc,eAAe;MACrC,IAAIO,IAAI,CAACC,SAAS,CAACF,OAAO,CAAC,KAAKC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,EAAE;MACtDjB,GAAG,CAAC;QACAe,eAAe,EAAAS,MAAA,CAAAC,MAAA,KACRR,IAAI;UACPS,gBAAgB,GAAAR,IAAA,IAAAC,qBAAA,GAAEF,IAAI,CAACS,gBAAgB,YAAAP,qBAAA,IAAAC,kBAAA,GAAInB,GAAG,CAAC,CAAC,CAAC0B,aAAa,cAAAP,kBAAA,GAAnBA,kBAAA,CAAqBQ,EAAE,qBAAvBR,kBAAA,CAAyBS,KAAK,CAAC,IAAI,CAAC,YAAAX,IAAA,GAAI;QAAE;MAE7F,CAAC,CAAC;IACN,CAAC;IAMDS,aAAa,EAAE,IAAI;IACnBG,gBAAgB,EAAE,SAAlBA,gBAAgBA,CAAGb,IAAI,EAAK;MAAA,IAAAc,KAAA,EAAAC,QAAA,EAAAC,oBAAA;MACxB,IAAMZ,OAAO,GAAGpB,GAAG,CAAC,CAAC,CAAC0B,aAAa;MACnC,IAAIL,IAAI,CAACC,SAAS,CAACF,OAAO,CAAC,KAAKC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,EAAE;MACtDjB,GAAG,CAAC;QACA2B,aAAa,EAAAH,MAAA,CAAAC,MAAA,KACNR,IAAI;UACPW,EAAE,GAAAG,KAAA,IAAAC,QAAA,GAAEf,IAAI,CAACW,EAAE,YAAAI,QAAA,IAAAC,oBAAA,GAAIhC,GAAG,CAAC,CAAC,CAACc,eAAe,cAAAkB,oBAAA,GAArBA,oBAAA,CAAuBP,gBAAgB,qBAAvCO,oBAAA,CAAyCC,IAAI,CAAC,IAAI,CAAC,YAAAH,KAAA,GAAI;QAAG;MAEjF,CAAC,CAAC;IACN;EACJ,CAAC;AAAA,CAAC,CAAC;AAAC,IAAAI,QAAA,GAAAC,OAAA,CAAA5B,OAAA,GAEWV,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}